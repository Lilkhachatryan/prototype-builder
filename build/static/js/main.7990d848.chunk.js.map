{"version":3,"sources":["assets/images/projectGif.gif","reducers/UserReducer.js","assets/styles/SidebarItem.style.js","components/sidebar/tools/Button.js","components/sidebar/tools/Circle.js","components/sidebar/CanvasesItem.js","utils/notify.js","actions/UserActions.js","actions/actionTypes.js","utils/axios.js","services/client.js","actions/canvasActions.js","components/sidebar/CanvasesList.js","components/sidebar/tools/Divider.js","components/sidebar/tools/ShareIcons.js","components/sidebar/tools/Footer.js","components/sidebar/tools/Header.js","components/sidebar/tools/Input.js","components/sidebar/tools/Rect.js","components/sidebar/tools/TextBox.js","components/sidebar/tools/UploadImage/UploadImageFromPC/UploadImageFromPC.js","components/sidebar/tools/UploadImage/UploadImageByUrl/UploadImageByUrl.js","components/sidebar/tools/UploadImage/UploadToggler/UploadToggler.js","components/sidebar/tools/UploadImage/UploadImage.js","components/sidebar/SidebarContainer.js","components/settings/CanvasSettings.js","components/settings/SettingsContainer.js","components/settings/Header/UndoRedoContainer/UndoRedoContainer.js","components/settings/Header/PanningModeButton/PanningMode.js","components/settings/Header/SaveAs/Save.js","components/settings/Header/HeaderContainer.js","utils/fabric/centering_guidelines.js","components/Layout/Footer/Footer.js","components/CanvasContainer/CanvasContainer.js","utils/fabric/aligning_guidelines.js","components/Field.js","pages/auth/Account.js","pages/auth/Login.js","pages/auth/Register.js","utils/validators.js","pages/auth/AuthContainer.js","assets/images/rects.svg","components/Layout/Header/Header.js","components/Layout/PageLayout.js","pages/PageNotFound.js","pages/Home/Home.js","App.js","pages/Authenticate.js","reducers/canvasReducer.js","index.js","utils/helpers.js","utils/storage.js","utils/loger.js"],"names":["module","exports","initialRegisterState","loading","loaded","error","initialLoginState","token","SidebarItem","styled","div","Button","handleAdd","panningPosition","defaultPadding","onClick","text","fabric","Text","originX","originY","fill","fontFamily","fontSize","fontWeight","fontStyle","lineHeight","textBackgroundColor","strokeWidth","stroke","top","left","textWidth","Math","ceil","calcTextWidth","textHeight","calcTextHeight","rectWidth","rectHeight","rect","Rect","width","height","rx","ry","strokeUniform","button","Group","customType","x","y","borderColor","borderDashArray","cornerColor","cornerSize","cornerStyle","transparentCorners","cornerStrokeColor","connect","state","coords","circle","Circle","id","uuid","radius","CanvasesItem","item","handleLoadCanvas","active","handleDeleteCanvasWithId","className","_id","notifyError","message","title","time","cb","NotificationManager","logoutSuccess","payload","type","handleTokenUpdate","dispatch","axios","require","create","baseURL","process","interceptors","request","use","config","accessToken","returnToken","headers","registerService","newUser","post","loginUserService","user","handleLoadCanvases","get","then","response","data","handlePostCanvas","canvas","postCanvasService","res","project","handleUpdateCanvas","patch","updateCanvasService","delete","deleteCanvasWithIdService","ConnectedCanvasesList","this","props","canvases","length","mappedCanvases","map","c","currentlyEditingCanvasId","key","React","Component","Divider","divider","Line","padding","strokeDashArray","setControlsVisibility","bl","br","mb","ml","mr","mt","tr","tl","mtr","facebook","Path","twitter","linkedIn","instagram","youtube","ShareIcons","set","shareIcons","fillName","colors","Footer","logo","Textbox","selectable","menu","shadow","contact","textAlign","copyright","header","Header","TextBox","name","textBox","UploadImageFromPC","labelName","chooseFiles","filePath","handleChange","e","fileName","nativeEvent","target","files","persist","setState","value","handleClick","input","forEach","file","url","URL","createObjectURL","Image","fromURL","img","scaleX","scaleY","onChange","icon","faUpload","htmlFor","UploadImageByUrl","ref","useRef","onSubmit","preventDefault","current","replace","placeholder","UploadToggler","useState","pcSelected","uploadFromPc","toggleHandler","newState","toggleChange","webTogglerClasses","pcTogglerClasses","push","join","UploadImage","bool","SidebarContainer","Accordion","defaultActiveKey","Toggle","as","variant","eventKey","aria-hidden","Collapse","Input","CanvasSettings","bgColor","background","componentDidUpdate","prevProps","shouldComponentUpdate","nextProps","nextState","event","changeCanvasBg","image","changeCanvasBgImage","ButtonSettings","lazy","ImageSettings","LineSettings","ShareIconsSettings","ShapeSettings","TextSettings","Settings","Object","freeze","line","textbox","triangle","SettingsContainer","currentElement","elementChange","groupElementChange","SettingsComponent","fallback","center","bringToTop","sendToBack","UndoRedoContainer","handleUndoAndRedo","PanningModeButton","handlePanningMode","panningMode","faHandRock","SaveAs","handleSave","disabled","HeaderContainer","handleCreateNewCanvas","handleEdit","handleRemove","handleClone","handleObjectsGroup","handleUnGroupObjects","faClone","faObjectGroup","faObjectUngroup","_","isEmpty","faTrashAlt","initCenteringGuidelines","viewportTransform","isInVerticalCenter","isInHorizontalCenter","canvasWidth","getWidth","canvasHeight","getHeight","canvasWidthCenter","canvasHeightCenter","canvasWidthCenterMap","canvasHeightCenterMap","ctx","getSelectionContext","i","len","round","showCenterLine","x1","y1","x2","y2","save","strokeStyle","lineWidth","beginPath","moveTo","lineTo","restore","on","object","objectCenter","getCenterPoint","_currentTransform","setPositionByOrigin","Point","contextTop","clearContext","renderAll","FooterContainer","href","rel","size","viewChanged","CanvasContainer","isPanning","sendCoords","canvasSize","isDesktopView","deleteHandler","isComposing","keyCode","keys","updateSelection","onCurrentObjectUpdate","getActiveObject","toObject","removeSelection","urlData","toDataURL","format","multiplier","changedDpi","changeDpiDataUrl","saveAs","createNewCanvas","componentWillUnmount","off","window","removeEventListener","handleZoom","returnCanvas","opt","delta","deltaY","zoom","getZoom","zoomToPoint","getVpCenter","stopPropagation","handlePan","move","setCursor","movementX","movementY","relativePan","forEachObject","o","selection","onUpdatePanningPosition","undo","redo","obj","add","onDeleteObject","clone","cloned","discardActiveObject","evented","setCoords","setActiveObject","requestRenderAll","toGroup","toActiveSelection","handleElementPropChange","index","onElementPropChange","handleGroupPropChange","onGroupPropChange","handleBringToTop","bringToFront","handleSendToBack","handleCenter","activeObj","centerH","centerV","handleCanvasBgChange","setBackgroundColor","handleCanvasBgImageChange","setBackgroundImage","bind","backgroundImageOpacity","backgroundImageStretch","deviceViewHandler","canvasRef","loadFromJSON","toJSON","onUpdateCanvas","clear","onPostCanvas","onDeleteCanvas","Canvas","backgroundColor","preserveObjectStacking","hoverCursor","drawHorizontalLine","drawLine","isInRange","value1","value2","verticalLines","horizontalLines","activeObject","canvasObjects","getObjects","activeObjectCenter","activeObjectLeft","activeObjectTop","activeObjectBoundingRect","getBoundingRect","activeObjectHeight","activeObjectWidth","horizontalInTheRange","verticalInTheRange","objectLeft","objectTop","objectBoundingRect","objectHeight","objectWidth","initAligningGuidelines","addEventListener","actions","remove","el","newCurrentElement","src","setSrc","setShadow","undefined","charSpacing","Field","errorText","hasError","labelText","Account","children","linkText","pathToNavigate","to","WithLoginForm","withFormik","mapPropsToValues","email","password","rememberMe","validationSchema","YUP","shape","required","handleSubmit","values","rest","setSubmitting","scb","setStorage","catch","err","handleLoginUser","resetForm","history","errors","touched","handleBlur","submitForm","isSubmitting","getTouchedAndError","fieldName","alt","onBlur","ConnectedLogin","login","WithRegisterForm","confirmPassword","first_name","last_name","test","parent","fcb","ConnectedRegister","register","AuthContainer","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref","svgRef","viewBox","style","ForwardRef","forwardRef","ConnectedHeader","NavDropdown","Item","removeToken","withRouter","PageLayout","PageNotFound","gifSrc","App","store","path","component","exact","Home","initialState","initialCanvasesState","action","reducers","combineReducers","filter","middleware","applyMiddleware","thunk","createStore","console","log","status","Promise","reject","ReactDOM","render","document","getElementById","getStorage","removeStorage","memoryStorage","storage","setItem","warn","getItem","removeItem"],"mappings":"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","file":"static/js/main.7990d848.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/projectGif.c756d8c9.gif\";","import * as fromActionTypes from '../actions/actionTypes';\r\n\r\nconst initialRegisterState = {\r\n    loading: false,\r\n    loaded: false,\r\n    error: ''\r\n};\r\n\r\nconst initialLoginState = {\r\n    loading: false,\r\n    loaded: false,\r\n    error: '',\r\n    token: null\r\n};\r\n\r\n\r\nexport function register(state = initialRegisterState, action) {\r\n    switch (action.type) {\r\n        case fromActionTypes.REGISTER_USER: {\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                loaded: false,\r\n                error: ''\r\n            };\r\n        }\r\n        case fromActionTypes.REGISTER_USER_SUCCESS: {\r\n            return {\r\n                loading: false,\r\n                loaded: true,\r\n                error: ''\r\n\r\n            };\r\n        }\r\n        case fromActionTypes.REGISTER_USER_FAIL: {\r\n            return {\r\n                loading: false,\r\n                loaded: false,\r\n                error: action.payload\r\n            };\r\n        }\r\n        default : return state;\r\n    }\r\n}\r\n\r\n\r\nexport function login(state = initialLoginState, action) {\r\n   switch (action.type) {\r\n       case fromActionTypes.LOGIN_USER: {\r\n           return {\r\n               ...state,\r\n               loading: true,\r\n               loaded: false,\r\n               error: '',\r\n               token: null\r\n           };\r\n       }\r\n       case fromActionTypes.LOGIN_USER_SUCCESS: {\r\n           return {\r\n               loading: false,\r\n               loaded: true,\r\n               error: '',\r\n               token: action.payload\r\n           };\r\n       }\r\n       case fromActionTypes.LOGIN_USER_FAIL: {\r\n           return {\r\n               loading: false,\r\n               loaded: false,\r\n               error: action.payload,\r\n               token: null\r\n           };\r\n       }\r\n       case fromActionTypes.LOG_OUT: {\r\n           return {\r\n               ...state,\r\n               token: action.payload\r\n           };\r\n       }\r\n       default : return state;\r\n   }\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const SidebarItem = styled.div`\r\n    font-size: 16px;\r\n    color: #474B4F;\r\n    cursor: pointer;\r\n    padding: 10px 0;\r\n     &:hover {\r\n        color: rgb(179, 161, 226)\r\n     }\r\n`;\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { SidebarItem } from \"../../../assets/styles/SidebarItem.style\";\r\n\r\n\r\nconst Button = ({ handleAdd, panningPosition }) => {\r\n    const defaultPadding = {\r\n        top: 7,\r\n        right: 25,\r\n        bottom: 7,\r\n        left: 25\r\n    };\r\n\r\n    const handleClick = () => {\r\n        const text = new fabric.Text(\"Submit\", {\r\n            originX: 'center',\r\n            originY: 'center',\r\n            fill: \"#1a70cb\",\r\n            fontFamily: 'Times New Roman',\r\n            fontSize: 18,\r\n            fontWeight: 'normal',\r\n            fontStyle: 'normal',\r\n            lineHeight: 1,\r\n            textBackgroundColor: 'transparent',\r\n            strokeWidth: 0,\r\n            stroke: '#000000',\r\n            top: 0,\r\n            left: 0,\r\n        });\r\n\r\n        let textWidth = Math.ceil(text.calcTextWidth());\r\n        let textHeight = Math.ceil(text.calcTextHeight());\r\n        let rectWidth = textWidth + defaultPadding.right + defaultPadding.right;\r\n        let rectHeight = textHeight + defaultPadding.top + defaultPadding.bottom;\r\n\r\n        const rect = new fabric.Rect({\r\n            width: rectWidth,\r\n            height: rectHeight,\r\n            originX: 'center',\r\n            originY: 'center',\r\n            fill: '#FFFFFF',\r\n            stroke: '#1a70cb',\r\n            strokeWidth: 1,\r\n            rx: 5,\r\n            ry: 5,\r\n            strokeUniform: true,\r\n            top: 0,\r\n            left: 0\r\n        });\r\n\r\n        let button = new fabric.Group([rect, text], {\r\n            customType: 'button',\r\n            left: -panningPosition.x + 150,\r\n            top: -panningPosition.y + 100,\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n        });\r\n        handleAdd(button);\r\n\r\n\r\n        //  let LabeledRect = fabric.util.createClass(fabric.Rect, {\r\n        //\r\n        //      type: 'labeledRect',\r\n        //\r\n        //      initialize: function(options) {\r\n        //          options || (options = { });\r\n        //\r\n        //          this.callSuper('initialize', options);\r\n        //          this.set('label', options.label || '');\r\n        //      },\r\n        //\r\n        //      toObject: function() {\r\n        //          return fabric.util.object.extend(this.callSuper('toObject'), {\r\n        //              label: this.get('label')\r\n        //          });\r\n        //      },\r\n        //\r\n        //      _render: function(ctx) {\r\n        //          this.callSuper('_render', ctx);\r\n        //\r\n        //          ctx.font = '20px Helvetica';\r\n        //          ctx.fillStyle = '#333';\r\n        //          ctx.fillText(this.label, -this.width/2, -this.height/2 + 20);\r\n        //      }\r\n        //  });\r\n        //  let labeledRect = new LabeledRect({\r\n        //      width: 100,\r\n        //      height: 50,\r\n        //      left: 100,\r\n        //      top: 100,\r\n        //      label: 'test test testtesttest',\r\n        //      fill: '#faa'\r\n        //  });\r\n        // handleAdd(labeledRect);\r\n    };\r\n\r\n    return (\r\n        <SidebarItem onClick={handleClick}>\r\n            <span>Button</span>\r\n        </SidebarItem>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { v4 as uuid } from 'uuid';\r\nimport {connect} from 'react-redux';\r\n\r\nimport { SidebarItem } from \"../../../assets/styles/SidebarItem.style\";\r\n\r\nconst Circle = ({ handleAdd, panningPosition }) => {\r\n    const handleClick = () => {\r\n        const circle = new fabric.Circle({\r\n            id: uuid(),\r\n            top: -panningPosition.y + 100,\r\n            left: -panningPosition.x + 100,\r\n            radius: 30,\r\n            fill: '#FFFFFF',\r\n            stroke: '#000000',\r\n            strokeWidth: 1,\r\n            strokeUniform: true,\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n        });\r\n        return handleAdd(circle);\r\n    };\r\n\r\n    return (\r\n        <SidebarItem onClick={handleClick}>\r\n            <span>Circle</span>\r\n        </SidebarItem>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        coords: state.coords\r\n    };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps)(Circle);\r\n","import React from 'react';\r\n\r\nconst CanvasesItem = ({item, handleLoadCanvas, active, handleDeleteCanvasWithId}) => {\r\n    return (\r\n        <div>\r\n            <li\r\n                className={`${active ? 'text-danger' : ''}`}\r\n                onClick={() => handleLoadCanvas(item)} >\r\n                {item._id}\r\n            </li>\r\n            <button onClick={ () => handleDeleteCanvasWithId(item._id) } >\r\n                Delete\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CanvasesItem;\r\n","import { NotificationManager } from \"react-notifications\";\r\n\r\nexport const notifyInfo = (message, title, time, cb) => NotificationManager.info(message, title, time, cb);\r\nexport const notifySuccess = (message, title, time, cb) => NotificationManager.success(message, title, time, cb);\r\nexport const notifyWarning = (message, title, time, cb) => NotificationManager.warning(message, title, time, cb);\r\nexport const notifyError = (message = 'Something wnt wrong', title, time, cb) => NotificationManager.error(message, title, time, cb);\r\n","import * as fromActionTypes from './actionTypes';\r\nimport { registerService } from \"../services/client\";\r\nimport { loginUserService } from \"../services/client\";\r\nimport { setStorage } from \"../utils/storage\";\r\nimport { notifyError } from \"../utils/notify\";\r\nimport { removeToken } from \"../utils/helpers\";\r\n\r\n// register user\r\n\r\nexport function registerUser() {\r\n    return {\r\n        type: fromActionTypes.REGISTER_USER\r\n    };\r\n}\r\n\r\nexport function registerUserSuccess() {\r\n    return {\r\n        type: fromActionTypes.REGISTER_USER_SUCCESS\r\n    };\r\n}\r\n\r\nexport function registerUserFail(payload) {\r\n    return {\r\n        type: fromActionTypes.REGISTER_USER_FAIL,\r\n        payload\r\n    };\r\n}\r\n\r\n\r\n\r\nexport function handleRegisterUser(newUser, scb, fcb) {\r\n    return (dispatch) => {\r\n        dispatch(registerUser());\r\n        return registerService(newUser).then( (response) => {\r\n            dispatch(registerUserSuccess());\r\n            scb();\r\n        } ).catch(err => {\r\n            dispatch(registerUserFail(err.message));\r\n            fcb();\r\n        });\r\n    };\r\n}\r\n\r\n\r\n// Login user\r\n\r\nexport function loginUser() {\r\n    return {\r\n        type : fromActionTypes.LOGIN_USER\r\n    };\r\n}\r\n\r\nexport function loginUserSuccess(payload) {\r\n    return {\r\n        type: fromActionTypes.LOGIN_USER_SUCCESS,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function loginUserFail(payload) {\r\n    return {\r\n        type: fromActionTypes.LOGIN_USER_FAIL,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function logoutSuccess(payload) {\r\n    return {\r\n        type: fromActionTypes.LOG_OUT,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function handleLoginUser(user, cb, scb, rememberMe) {\r\n    return (dispatch) => {\r\n        dispatch(loginUser());\r\n        return loginUserService(user).then( (response) => {\r\n            const {token} = response.data;\r\n            rememberMe ? setStorage('localStorage', 'token', token) : setStorage('sessionStorage', 'token', token);\r\n            dispatch(loginUserSuccess(token));\r\n            cb();\r\n            scb();\r\n        } ).catch(err => {\r\n            cb();\r\n            dispatch(loginUserFail(err.message));\r\n        } );\r\n    };\r\n}\r\n\r\nexport function handleUserLogOut(cb) {\r\n    return (dispatch) => {\r\n        removeToken();\r\n        dispatch(logoutSuccess());\r\n        cb();\r\n    };\r\n}\r\n\r\nexport function handleTokenUpdate(token = null) {\r\n    return (dispatch) => {\r\n        dispatch(logoutSuccess(token));\r\n    };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","// Canvas actions\r\n\r\nexport const UPDATE_OBJECT = 'UPDATE_OBJECT';\r\nexport const UPDATE_GROUP_OBJECT = 'UPDATE_GROUP_OBJECT';\r\nexport const UPDATE_CURRENT_OBJECT = 'UPDATE_CURRENT_OBJECT';\r\nexport const DELETE_OBJECT = 'DELETE_OBJECT';\r\nexport const UPDATE_PANNING_POSITION = 'UPDATE_PANNING_POSITION';\r\n\r\n// User actions\r\n\r\nexport const LOGIN_USER = 'LOGIN_USER';\r\nexport const LOGIN_USER_SUCCESS = 'LOGIN_USER_SUCCESS';\r\nexport const LOGIN_USER_FAIL = 'LOGIN_USER_FAIL';\r\n\r\nexport const REGISTER_USER = 'REGISTER_USER';\r\nexport const REGISTER_USER_SUCCESS = 'REGISTER_USER_SUCCESS';\r\nexport const REGISTER_USER_FAIL = 'REGISTER_USER_FAIL';\r\n\r\n\r\n\r\n// user-canvas actions\r\n\r\n\r\nexport const LOAD_CANVASES = 'LOAD_CANVASES';\r\nexport const LOAD_CANVASES_SUCCESS = 'LOAD_CANVASES_SUCCESS';\r\nexport const LOAD_CANVASES_FAIL = 'LOAD_CANVASES_FAIL';\r\n\r\n\r\nexport const POST_CANVAS_SUCCESS = 'POST_CANVAS_SUCCESS';\r\nexport const UPDATE_CANVAS_SUCCESS = 'UPDATE_CANVAS_SUCCESS';\r\n\r\nexport const DELETE_CANVAS_WITH_ID_SUCCESS = 'DELETE_CANVAS_WITH_ID_SUCCESS';\r\n\r\nexport const LOG_OUT = 'LOG_OUT';\r\n","import { notifyError } from \"./notify\";\r\nimport { returnToken, removeToken } from \"./helpers\";\r\nimport { handleTokenUpdate } from \"../actions/UserActions\";\r\nimport {log} from \"./loger\";\r\n\r\nconst axios = require('axios').create({\r\n    baseURL: process.env.REACT_APP_API_URL\r\n});\r\n\r\naxios.interceptors.request.use(config => {\r\n    let accessToken = returnToken();\r\n    if (accessToken) {\r\n        config.headers['Authorization'] = `Bearer ${accessToken}`;\r\n        config.headers['token'] = `Bearer ${accessToken}`;\r\n    }\r\n\r\n    return config;\r\n});\r\n\r\n\r\nexport const setupInterceptors = (store) => {\r\n    axios.interceptors.response.use(res => res, e => {\r\n        console.log('e.response.status', e.response.status);\r\n        if (!e.response || !e.response.status)\r\n            return Promise.reject(e);\r\n\r\n        switch (e.response.status) {\r\n            case 401:\r\n                removeToken();\r\n                store.dispatch(handleTokenUpdate());\r\n                notifyError('Session expired');\r\n                break;\r\n            default: {\r\n                notifyError(e.response?.data.message);\r\n            }\r\n        }\r\n\r\n        return Promise.reject(e.response?.data);\r\n    });\r\n};\r\n\r\nexport default axios;\r\n","import axios from \"../utils/axios\";\r\n\r\nconst registerUserURL = 'users/register';\r\nconst loginURL = 'users/login';\r\nconst canvasesURL = 'projects/list';\r\nconst loadCanvasWithIdURL = 'projects';\r\nconst postCanvasURL = 'projects';\r\n\r\nexport const registerService = (newUser) => axios.post(registerUserURL, newUser);\r\n\r\nexport const loginUserService = (user) => axios.post(loginURL, user);\r\n\r\nexport const loadCanvasesService = () => axios.get(canvasesURL);\r\n\r\nexport const loadCanvasWithIdService = (id) => axios.get(`${loadCanvasWithIdURL}/${id}`);\r\n\r\nexport const deleteCanvasWithIdService = (id) => axios.delete(`${postCanvasURL}/${id}`);\r\n\r\nexport const postCanvasService = (canvas) => axios.post(postCanvasURL, {canvas});\r\n\r\nexport const updateCanvasService = (id, canvas) => axios.patch(`${postCanvasURL}/${id}`, {canvas});\r\n\r\n\r\n\r\n\r\n","import * as actionTypes from './actionTypes';\r\nimport {\r\n    deleteCanvasWithIdService,\r\n    loadCanvasesService,\r\n    postCanvasService,\r\n    updateCanvasService\r\n} from \"../services/client\";\r\nimport { faExternalLinkSquareAlt } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nexport const updateElement = (canvas, obj, index) => {\r\n    const newCurrentElement = canvas.getActiveObject();\r\n\r\n    if (obj.src) {\r\n        newCurrentElement.setSrc(obj.src, () => {\r\n            // canvas.discardActiveObject();\r\n            // canvas.setActiveObject(newCurrentElement);\r\n        });\r\n    } else if (obj.shadow) {\r\n        newCurrentElement.setShadow({ ...obj.shadow });\r\n    } else if (index !== undefined) {\r\n        newCurrentElement.getObjects()[index].set({ ...obj });\r\n        if (obj.text || obj.fontSize || obj.lineHeight || obj.fontFamily || obj.charSpacing) {\r\n            let textWidth = newCurrentElement.getObjects()[1].width;\r\n            let textHeight = newCurrentElement.getObjects()[1].height;\r\n            if (newCurrentElement.customType === 'input') {\r\n                newCurrentElement.getObjects()[0].set({ height: textHeight + 14 });\r\n                newCurrentElement.set({ height: textHeight + 14 });\r\n            } else {\r\n                newCurrentElement.getObjects()[0].set({ width: textWidth + 50, height: textHeight + 14 });\r\n                newCurrentElement.set({ width: textWidth + 50, height: textHeight + 14 });\r\n            }\r\n            newCurrentElement.setCoords();\r\n        }\r\n    } else {\r\n        newCurrentElement.set({ ...obj });\r\n    }\r\n\r\n    canvas.renderAll();\r\n\r\n    return {\r\n        type: actionTypes.UPDATE_OBJECT,\r\n        payload: newCurrentElement.toObject(['customType'])\r\n    };\r\n};\r\n\r\nexport const updateGroupElement = (canvas, obj) => {\r\n    const newCurrentElement = canvas.getActiveObject();\r\n    if (obj.fill) {\r\n        newCurrentElement.fillName = obj.fill;\r\n        newCurrentElement.forEachObject(el => el.set({ ...obj }));\r\n    }\r\n    if (obj.colors) {\r\n        newCurrentElement.colors = obj.colors;\r\n        newCurrentElement.forEachObject(el => el.set({ ...obj }));\r\n    }\r\n\r\n    canvas.renderAll();\r\n    return {\r\n        type: actionTypes.UPDATE_GROUP_OBJECT,\r\n        payload: newCurrentElement.toObject(['colors', 'fillName', 'customType'])\r\n    };\r\n};\r\n\r\nexport const updateCurrentObject = (obj) => {\r\n    return {\r\n        type: actionTypes.UPDATE_CURRENT_OBJECT,\r\n        payload: obj\r\n    };\r\n};\r\n\r\nexport const deleteObject = (canvas) => {\r\n    const activeObj = canvas.getActiveObject();\r\n    if (!activeObj.getObjects) {\r\n        canvas.remove(activeObj);\r\n    } else {\r\n        canvas.remove(activeObj);\r\n        activeObj.forEachObject(el => canvas.remove(el));\r\n        canvas.discardActiveObject();\r\n    }\r\n\r\n    return {\r\n        type: actionTypes.DELETE_OBJECT,\r\n        payload: {}\r\n    };\r\n};\r\n\r\nexport const updatePanningPosition = (data) => {\r\n    return {\r\n        type: actionTypes.UPDATE_PANNING_POSITION,\r\n        payload: data\r\n    };\r\n};\r\n\r\n\r\n\r\n// Load canvases\r\n\r\n\r\nexport function loadCanvases() {\r\n    return {\r\n        type: actionTypes.LOAD_CANVASES\r\n    };\r\n}\r\n\r\nexport function loadCanvasesSuccess(payload) {\r\n    return {\r\n        type: actionTypes.LOAD_CANVASES_SUCCESS,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function handleLoadCanvases() {\r\n    return (dispatch) => {\r\n        dispatch(loadCanvases());\r\n        return loadCanvasesService().then((response) => {\r\n            dispatch(loadCanvasesSuccess(response.data));\r\n        });\r\n    };\r\n}\r\n\r\n// post canvas\r\n\r\nexport function postCanvasSuccess(payload) {\r\n    return {\r\n        type: actionTypes.POST_CANVAS_SUCCESS,\r\n        payload\r\n    };\r\n}\r\n\r\n\r\nexport function handlePostCanvas(canvas, cb) {\r\n    return (dispatch) => {\r\n        return postCanvasService(canvas).then(res => {\r\n            dispatch(postCanvasSuccess(res.data.project));\r\n            cb();\r\n        });\r\n    };\r\n}\r\n\r\n\r\n\r\nexport function updateCanvasSuccess(payload) {\r\n    return {\r\n        type: actionTypes.UPDATE_CANVAS_SUCCESS,\r\n        payload\r\n    };\r\n}\r\n\r\n\r\nexport function handleUpdateCanvas(id, canvas, cb) {\r\n    return (dispatch) => {\r\n        return updateCanvasService(id, canvas).then((res) => {\r\n            cb();\r\n            dispatch(updateCanvasSuccess(res.data));\r\n        });\r\n    };\r\n}\r\n\r\n// delete canvas\r\n\r\nexport function deleteCanvasWithIDSuccess(payload) {\r\n    return {\r\n        type: actionTypes.DELETE_CANVAS_WITH_ID_SUCCESS,\r\n        payload\r\n    };\r\n}\r\n\r\n\r\nexport function handleDeleteCanvasWithId(id) {\r\n    return (dispatch) => {\r\n        return deleteCanvasWithIdService(id).then( (res) => {\r\n            dispatch(deleteCanvasWithIDSuccess(id));\r\n        } );\r\n    };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport CanvasesItem from \"./CanvasesItem\";\r\nimport {handleLoadCanvases} from \"../../actions/canvasActions\";\r\n\r\n\r\nclass ConnectedCanvasesList extends React.Component{\r\n    componentDidMount() {\r\n        if (!this.props.canvases.length){\r\n            this.props.dispatch(handleLoadCanvases());\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const mappedCanvases = this.props.canvases.map( c => <CanvasesItem\r\n            handleDeleteCanvasWithId={this.props.handleDeleteCanvasWithId}\r\n            active={this.props.currentlyEditingCanvasId === c._id}\r\n            handleLoadCanvas={this.props.handleLoadCanvas}\r\n            key={c._id}\r\n            item={c} /> );\r\n        return (\r\n            <div>\r\n                {mappedCanvases}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect(state => ({\r\n    canvases: state.canvases.canvases\r\n}))(ConnectedCanvasesList);\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { v4 as uuid } from 'uuid';\r\nimport {SidebarItem} from \"../../../assets/styles/SidebarItem.style\";\r\n\r\nconst Divider = ({ handleAdd, panningPosition }) => {\r\n    const handleClick = () => {\r\n        const divider = new fabric.Line([0,0, 500,0], {\r\n            id: uuid(),\r\n            top: -panningPosition.y + 30,\r\n            left: -panningPosition.x + 50,\r\n            // width: 500,\r\n            padding: 15,\r\n            stroke: \"#000000\",\r\n            strokeWidth: 1,\r\n            strokeDashArray: [0, 0],\r\n            // lockScalingY: true,\r\n            strokeUniform: true,\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n        });\r\n        divider.setControlsVisibility({\r\n            bl: false,\r\n            br: false,\r\n            mb: false,\r\n            ml: true,\r\n            mr: true,\r\n            mt: false,\r\n            tr: false,\r\n            tl: false,\r\n            mtr: true,\r\n        });\r\n        return handleAdd(divider);\r\n    };\r\n\r\n    return (\r\n        <SidebarItem onClick={handleClick}>\r\n            <span>Divider</span>\r\n        </SidebarItem>\r\n    );\r\n};\r\n\r\n\r\nexport default Divider;\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nimport { SidebarItem } from \"../../../assets/styles/SidebarItem.style\";\r\n\r\nexport const facebook = new fabric.Path('m15.997 3.985h2.191v-3.816c-.378-.052-1.678-.169-3.192-.169-3.159 \\\r\n            0-5.323 1.987-5.323 5.639v3.361h-3.486v4.266h3.486v10.734h4.274v-10.733h3.345l.531\\\r\n            -4.266h-3.877v-2.939c.001-1.233.333-2.077 2.051-2.077z');\r\nexport const twitter = new fabric.Path('M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564\\\r\n        -2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719\\\r\n        -2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581\\\r\n         4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348\\\r\n         -7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797\\\r\n         -1.562 2.457-2.549z');\r\nexport const linkedIn = new fabric.Path('M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11\\\r\n         -2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029\\\r\n         -5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z');\r\nexport const instagram = new fabric.Path('M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919\\\r\n         4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919\\\r\n         -1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265\\\r\n         -.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645\\\r\n         -.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281\\\r\n         -.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072\\\r\n          4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073\\\r\n          -4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949\\\r\n          -.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0\\\r\n          -3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791\\\r\n           4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795\\\r\n            0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z');\r\n\r\nexport const youtube = new fabric.Path('M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385\\\r\n            8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816\\\r\n            -.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z');\r\n\r\nconst ShareIcons = ({ handleAdd, panningPosition }) => {\r\n    const handleClick = () => {\r\n        facebook.set({ left: 0, fill: '#3b5998' });\r\n\r\n        twitter.set({ left: 35, fill: '#00acee' });\r\n\r\n        linkedIn.set({ left: 80, fill: '#0e76a8' });\r\n\r\n        instagram.set({ left: 125, fill: '#E1306C' });\r\n\r\n        youtube.set({ left: 170, fill: '#FF0000' });\r\n        let shareIcons = new fabric.Group([facebook, twitter, linkedIn], {\r\n            left: -panningPosition.x + 100,\r\n            top: -panningPosition.y + 100,\r\n            customType: 'shareIcons',\r\n            fillName: '',\r\n            colors: '',\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n        });\r\n\r\n        return handleAdd(shareIcons);\r\n    };\r\n    return (\r\n        <SidebarItem onClick={handleClick}>\r\n            <span>Share icons</span>\r\n        </SidebarItem>\r\n    );\r\n};\r\n\r\n\r\nexport default ShareIcons;\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nimport { SidebarItem } from \"../../../assets/styles/SidebarItem.style\";\r\nimport { facebook, twitter, linkedIn } from './ShareIcons';\r\n\r\nconst Footer = ({ handleAdd, panningPosition }) => {\r\n    const handleClick = () => {\r\n        const logo = new fabric.Textbox(\"Logo\", {\r\n            originX: 'left',\r\n            originY: 'center',\r\n            fill: \"#000000\",\r\n            fontFamily: 'Coming Soon',\r\n            fontSize: 20,\r\n            fontWeight: '600',\r\n            fontStyle: 'normal',\r\n            lineHeight: 1,\r\n            textBackgroundColor: 'transparent',\r\n            strokeWidth: 0,\r\n            stroke: '#000000',\r\n            selectable: true,\r\n            left: 20,\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n            width: 100,\r\n        });\r\n\r\n        const menu = new fabric.Textbox(`Home     About     Contact Us`,\r\n            {\r\n                originX: 'left',\r\n                originY: 'center',\r\n                fill: \"#000000\",\r\n                fontFamily: 'Times New Roman',\r\n                fontSize: 14,\r\n                fontWeight: '400',\r\n                fontStyle: 'normal',\r\n                lineHeight: 1,\r\n                textBackgroundColor: 'transparent',\r\n                strokeWidth: 0,\r\n                stroke: '#000000',\r\n                selectable: true,\r\n                left: 20,\r\n                top: 50,\r\n                borderColor: 'gray',\r\n                borderDashArray: [4, 3],\r\n                cornerColor: '#49f500',\r\n                cornerSize: 11,\r\n                cornerStyle: 'circle',\r\n                transparentCorners: false,\r\n                cornerStrokeColor: '#aaaaaa',\r\n                width: 220,\r\n            });\r\n\r\n        facebook.set({ left: 0, fill: '#3b5998' });\r\n\r\n        twitter.set({ left: 35, fill: '#00acee' });\r\n\r\n        linkedIn.set({ left: 80, fill: '#0e76a8' });\r\n        const rect = new fabric.Rect({\r\n            width: 650,\r\n            height: 180,\r\n            originX: 'left',\r\n            originY: 'center',\r\n            fill: '#FFFFFF',\r\n            stroke: '#000000',\r\n            strokeWidth: 0,\r\n            rx: 0,\r\n            ry: 0,\r\n            left: 0,\r\n            top: 45,\r\n            strokeUniform: true,\r\n            shadow: '0px 0px 7px rgba(0,0,0,0.2)',\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n        });\r\n        let shareIcons = new fabric.Group([facebook, twitter, linkedIn], {\r\n            // left: -panningPosition.x + 100,\r\n            // top: -panningPosition.y + 100,\r\n            originX: 'left',\r\n            originY: 'center',\r\n            customType: 'shareIcons',\r\n            left: 400,\r\n            top: 0,\r\n            fillName: '',\r\n            colors: '',\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n        });\r\n\r\n        const contact = new fabric.Textbox(`Phone: (001) 123-456-789\r\nEmail: placeholder@email.com`, {\r\n            originX: 'left',\r\n            originY: 'center',\r\n            fill: \"#000000\",\r\n            fontFamily: 'Times New Roman',\r\n            fontSize: 14,\r\n            fontWeight: 'normal',\r\n            fontStyle: 'normal',\r\n            textAlign: 'left',\r\n            lineHeight: 1,\r\n            textBackgroundColor: 'transparent',\r\n            strokeWidth: 0,\r\n            stroke: '#000000',\r\n            selectable: true,\r\n            left: 400,\r\n            top: 50,\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n            width: 180,\r\n        });\r\n\r\n        const copyright = new fabric.Textbox(`Copyright: All right reserved 2020`,\r\n            {\r\n                originX: 'left',\r\n                originY: 'center',\r\n                fill: \"#000000\",\r\n                fontFamily: 'Times New Roman',\r\n                fontSize: 12,\r\n                fontWeight: '400',\r\n                fontStyle: 'normal',\r\n                lineHeight: 1,\r\n                textBackgroundColor: 'transparent',\r\n                strokeWidth: 0,\r\n                stroke: '#000000',\r\n                selectable: true,\r\n                top: 100,\r\n                left: 240,\r\n                borderColor: 'gray',\r\n                borderDashArray: [4, 3],\r\n                cornerColor: '#49f500',\r\n                cornerSize: 11,\r\n                cornerStyle: 'circle',\r\n                transparentCorners: false,\r\n                cornerStrokeColor: '#aaaaaa',\r\n                width: 300,\r\n            });\r\n\r\n\r\n        let header = new fabric.Group([rect, logo, menu, shareIcons, contact, copyright], {\r\n            left: -panningPosition.x,\r\n            top: -panningPosition.y + 370,\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n\r\n        });\r\n        handleAdd(header);\r\n    };\r\n\r\n    return (\r\n        <SidebarItem onClick={handleClick}>\r\n            <span>Footer</span>\r\n        </SidebarItem>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\n\r\nimport { SidebarItem } from \"../../../assets/styles/SidebarItem.style\";\r\n\r\n\r\nconst Header = ({ handleAdd, panningPosition }) => {\r\n    const defaultPadding = {\r\n        top: 10,\r\n        right: 25,\r\n        bottom: 10,\r\n        left: 25\r\n    };\r\n\r\n    const handleClick = () => {\r\n        const logo = new fabric.Textbox(\"Logo\", {\r\n            originX: 'left',\r\n            originY: 'center',\r\n            fill: \"#000000\",\r\n            fontFamily: 'Coming Soon',\r\n            fontSize: 20,\r\n            fontWeight: '600',\r\n            fontStyle: 'normal',\r\n            lineHeight: 1,\r\n            textBackgroundColor: 'transparent',\r\n            strokeWidth: 0,\r\n            stroke: '#000000',\r\n            selectable: true,\r\n            left: 20\r\n        });\r\n\r\n        const menu = new fabric.Textbox(\"Workspace    About    Contact Us\", {\r\n            originX: 'left',\r\n            originY: 'center',\r\n            fill: \"#000000\",\r\n            fontFamily: 'Times New Roman',\r\n            fontSize: 16,\r\n            fontWeight: '400',\r\n            fontStyle: 'normal',\r\n            lineHeight: 1,\r\n            textBackgroundColor: 'transparent',\r\n            strokeWidth: 0,\r\n            stroke: '#000000',\r\n            selectable: true,\r\n            left: 390,\r\n            width: 230\r\n        });\r\n\r\n        // let textWidth = Math.ceil(logo.calcTextWidth());\r\n        let textHeight = Math.ceil(logo.calcTextHeight());\r\n        // let rectWidth = textWidth + defaultPadding.right + defaultPadding.right;\r\n        let rectHeight = textHeight + defaultPadding.top + defaultPadding.bottom;\r\n\r\n        const rect = new fabric.Rect({\r\n            width: 650,\r\n            height: rectHeight,\r\n            originX: 'left',\r\n            originY: 'center',\r\n            fill: '#FFFFFF',\r\n            stroke: '#000000',\r\n            strokeWidth: 0,\r\n            rx: 0,\r\n            ry: 0,\r\n            strokeUniform: true,\r\n            shadow: '0px 0px 5px rgba(0,0,0,0.2)'\r\n        });\r\n\r\n        let header = new fabric.Group([rect, logo, menu], {\r\n            left: -panningPosition.x,\r\n            top: -panningPosition.y,\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n        });\r\n        handleAdd(header);\r\n    };\r\n\r\n    return (\r\n        <SidebarItem onClick={handleClick}>\r\n            <span>Header</span>\r\n        </SidebarItem>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { SidebarItem } from \"../../../assets/styles/SidebarItem.style\";\r\n\r\n\r\nconst Button = ({ handleAdd, panningPosition }) => {\r\n    const handleClick = () => {\r\n        const text = new fabric.Text(\"Email\", {\r\n            // originX: 'center',\r\n            originY: 'center',\r\n            fill: \"#aaaaaa\",\r\n            fontFamily: 'Times New Roman',\r\n            fontSize: 18,\r\n            fontWeight: 'normal',\r\n            fontStyle: 'normal',\r\n            lineHeight: 1,\r\n            textBackgroundColor: 'transparent',\r\n            strokeWidth: 0,\r\n            stroke: '#000000',\r\n            // top: 15,\r\n            left: 15,\r\n            width: 200\r\n        });\r\n\r\n        // let textWidth = Math.ceil(text.calcTextWidth());\r\n        let textHeight = Math.ceil(text.calcTextHeight());\r\n\r\n        const rect = new fabric.Rect({\r\n            width: 200,\r\n            height: textHeight + 14,\r\n            // originX: 'center',\r\n            originY: 'center',\r\n            fill: '#FFFFFF',\r\n            stroke: '#333333',\r\n            strokeWidth: 1,\r\n            rx: 5,\r\n            ry: 5,\r\n            strokeUniform: true,\r\n            top: 0,\r\n            left: 0,\r\n        });\r\n\r\n        let button = new fabric.Group([rect, text], {\r\n            originX: 'center',\r\n            originY: 'center',\r\n            customType: 'input',\r\n            left: -panningPosition.x + 150,\r\n            top: -panningPosition.y + 100,\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n            width: 200,\r\n        });\r\n        handleAdd(button);\r\n    };\r\n\r\n    return (\r\n        <SidebarItem onClick={handleClick}>\r\n            <span>Input</span>\r\n        </SidebarItem>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { v4 as uuid } from 'uuid';\r\nimport {connect} from 'react-redux';\r\nimport {SidebarItem} from \"../../../assets/styles/SidebarItem.style\";\r\n\r\nconst Rect = ({ handleAdd, panningPosition }) => {\r\n    const handleClick = () => {\r\n        const rect = new fabric.Rect({\r\n            id: uuid(),\r\n            top: -panningPosition.y + 20,\r\n            left: -panningPosition.x + 75,\r\n            width: 450,\r\n            height: 50,\r\n            fill: 'transparent',\r\n            stroke: '#000000',\r\n            strokeWidth: 1,\r\n            rx: 0,\r\n            ry: 0,\r\n            strokeUniform: true,\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n        });\r\n        return handleAdd(rect);\r\n    };\r\n    return (\r\n        <SidebarItem onClick={handleClick}>\r\n            <span>Rectangle</span>\r\n        </SidebarItem>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        coords: state.coords\r\n    };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps)(Rect);\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nimport {SidebarItem} from \"../../../assets/styles/SidebarItem.style\";\r\n\r\nconst TextBox = ({ handleAdd, fontSize, name, panningPosition }) => {\r\n    const handleClick = () => {\r\n        const textBox = new fabric.Textbox(\"Type your text here\", {\r\n            id: uuid(),\r\n            top: -panningPosition.y + 30,\r\n            left: -panningPosition.x + 50,\r\n            width: 450,\r\n            fill: \"#000000\",\r\n            fontFamily: 'Times New Roman',\r\n            fontSize: fontSize,\r\n            fontWeight: fontSize > 24 ? '600' : '400',\r\n            fontStyle: 'normal',\r\n            lineHeight: 1,\r\n            strokeWidth: 0,\r\n            stroke: '#000000',\r\n            textAlign: 'left',\r\n            textBackgroundColor: 'rgba(255,255,255,0)',\r\n            // lockScalingY: true,\r\n            borderColor: 'gray',\r\n            borderDashArray: [4, 3],\r\n            cornerColor: '#49f500',\r\n            cornerSize: 11,\r\n            cornerStyle: 'circle',\r\n            transparentCorners: false,\r\n            cornerStrokeColor: '#aaaaaa',\r\n        });\r\n        textBox.setControlsVisibility({\r\n            bl: true,\r\n            br: true,\r\n            mb: false,\r\n            ml: true,\r\n            mr: true,\r\n            mt: false,\r\n            tr: true,\r\n            tl: true,\r\n            mtr: true,\r\n        })\r\n        return handleAdd(textBox);\r\n    };\r\n\r\n    return (\r\n        <SidebarItem onClick={handleClick}>\r\n            <span>{name}</span>\r\n        </SidebarItem>\r\n    );\r\n};\r\n\r\n\r\nexport default TextBox;\r\n","import React from 'react';\r\nimport {fabric} from 'fabric';\r\nimport {v4 as uuid} from 'uuid';\r\nimport {faUpload} from '@fortawesome/free-solid-svg-icons';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\n\r\nimport './UploadImageFromPC.scss';\r\n\r\nclass UploadImageFromPC extends React.Component {\r\n    state = {\r\n        labelName: 'Choose a file...',\r\n        chooseFiles: [],\r\n        filePath: ''\r\n    };\r\n    handleChange = (e) => {\r\n        const fileName = e.nativeEvent.target.files[0].name;\r\n        e.persist();\r\n        const files = [...e.target.files];\r\n        this.setState({\r\n            labelName: fileName,\r\n            chooseFiles: files,\r\n            filePath: e.target.value\r\n        });\r\n    };\r\n    handleClick = () => {\r\n        const handleAdd = (input) => {\r\n            this.props.handleAdd(input);\r\n            this.setState({\r\n                filePath: '',\r\n                chooseFiles: [],\r\n                labelName: 'Choose a file...'\r\n            });\r\n        };\r\n        const { panningPosition } = this.props;\r\n        this.state.chooseFiles.forEach((file) => {\r\n            const fileType = file.type;\r\n            const url = URL.createObjectURL(file);\r\n            if (fileType === 'image/png' || 'image/jpeg') { //check if png\r\n                fabric.Image.fromURL(url, function (img) {\r\n                    handleAdd(img);\r\n                }, {\r\n                    // width: '180',\r\n                    // height: '180',\r\n                    id: uuid(),\r\n                    top: -panningPosition.y + 100,\r\n                    left: -panningPosition.x + 100,\r\n                    stroke: '#FFFFFF',\r\n                    strokeWidth: 0,\r\n                    borderColor: 'gray',\r\n                    borderDashArray: [4, 3],\r\n                    cornerColor: '#49f500',\r\n                    cornerSize: 11,\r\n                    cornerStyle: 'circle',\r\n                    transparentCorners: false,\r\n                    cornerStrokeColor: '#aaaaaa',\r\n                    scaleX: 0.3,\r\n                    scaleY: 0.3,\r\n                });\r\n            } else if (fileType === 'image/svg+xml') { //check if svg\r\n                fabric.loadSVGFromURL(url, function (objects, options) {\r\n                    const svg = fabric.util.groupSVGElements(objects, options);\r\n                    // svg.scaleToWidth(180);\r\n                    // svg.scaleToHeight(180);\r\n                    handleAdd(svg);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        let id = uuid();\r\n        return (\r\n            <div className='d-flex justify-content-center align-items-center'>\r\n                <input value={this.state.filePath}\r\n                       onChange={this.handleChange}\r\n                       type='file'\r\n                       name='file'\r\n                       id={id}\r\n                       className='inputfile'/>\r\n                <div className='labelContainer'>\r\n                    <FontAwesomeIcon icon={faUpload} />\r\n                    <label htmlFor={id}>{this.state.labelName}</label>\r\n                </div>\r\n\r\n                <button className='inputButton btn' onClick={this.handleClick}>ADD</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UploadImageFromPC;\r\n","import {fabric} from 'fabric';\r\nimport React, {useRef} from 'react';\r\n\r\nimport './UploadImageByUrl.scss';\r\n\r\nconst UploadImageByUrl = ({handleAdd}) => {\r\n    const ref = useRef();\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let value = ref.current.value;\r\n        value = value.replace(/\\s+/g, '');\r\n        if (value) {\r\n            fabric.Image.fromURL(value, function (img) {\r\n                ref.current.value = '';\r\n                return handleAdd(img);\r\n            }, {\r\n                stroke: '#FFFFFF',\r\n                strokeWidth: 0,\r\n                borderColor: 'gray',\r\n                borderDashArray: [4, 3],\r\n                cornerColor: '#49f500',\r\n                cornerSize: 11,\r\n                cornerStyle: 'circle',\r\n                transparentCorners: false,\r\n                cornerStrokeColor: '#aaaaaa',\r\n                scaleX: 0.3,\r\n                scaleY: 0.3,\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form className='formWrapper d-flex justify-content-center align-items-center' onSubmit={handleSubmit} >\r\n            <input className='formWrapper__input'\r\n                ref={ref}\r\n                placeholder='URL...'\r\n                type='text'/>\r\n                <button className='formWrapper__button btn' type='submit'>\r\n                    ADD\r\n                </button>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default UploadImageByUrl;\r\n","import React, {useState} from 'react';\r\nimport './UploadToggler.scss';\r\n\r\nconst UploadToggler = (props) => {\r\n\r\n    const [state, setState] = useState({ pcSelected: props.uploadFromPc});\r\n\r\n    const toggleHandler = (value) => {\r\n        const newState = {};\r\n        newState.pcSelected = value === 'pc';\r\n        setState(newState);\r\n        props.toggleChange(newState.pcSelected);\r\n    };\r\n\r\n    const webTogglerClasses = [\r\n        'buttons-wrapper__item'\r\n    ];\r\n    const pcTogglerClasses = [\r\n        'buttons-wrapper__item'\r\n    ];\r\n\r\n    state.pcSelected ? pcTogglerClasses.push('buttons-wrapper__item-selected') : webTogglerClasses.push('buttons-wrapper__item-selected');\r\n\r\n    return (\r\n      <div className='buttons-wrapper'>\r\n          <button onClick={() =>toggleHandler('web')} className={webTogglerClasses.join(' ')} >Url</button>\r\n          <button onClick={() =>toggleHandler('pc')} className={pcTogglerClasses.join(' ')}>PC</button>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default UploadToggler;\r\n","import React, {useState} from 'react';\r\n\r\nimport UploadImageFromPC from './UploadImageFromPC/UploadImageFromPC';\r\nimport UploadImageByUrl from './UploadImageByUrl/UploadImageByUrl';\r\nimport UploadToggler from './UploadToggler/UploadToggler';\r\n\r\nconst UploadImage = (props) => {\r\n\r\n    const [state, setState] = useState({\r\n        uploadFromPc: true\r\n    });\r\n\r\n    const toggleChangeHandler = (bool) => {\r\n        let newState = {\r\n            uploadFromPc: bool\r\n        };\r\n        setState(newState);\r\n    };\r\n\r\n    const {handleAdd} = props;\r\n\r\n    return (\r\n        <div>\r\n            <UploadToggler uploadFromPc={state.uploadFromPc} toggleChange={toggleChangeHandler}/>\r\n            {\r\n                state.uploadFromPc ?\r\n                    <UploadImageFromPC handleAdd={handleAdd} panningPosition={props.panningPosition} />\r\n                    : <UploadImageByUrl handleAdd={handleAdd} panningPosition={props.panningPosition} />\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default UploadImage;\r\n","import React, { Fragment } from 'react';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {connect} from 'react-redux';\r\n\r\n// import Triangle from './tools/Triangle';\r\nimport ButtonCustom from './tools/Button';\r\nimport Circle from './tools/Circle';\r\nimport ConnectedCanvasesList from \"./CanvasesList\";\r\nimport Divider from './tools/Divider';\r\nimport Footer from './tools/Footer';\r\nimport Header from './tools/Header';\r\nimport Input from './tools/Input';\r\nimport Rect from './tools/Rect';\r\nimport ShareIcons from './tools/ShareIcons';\r\nimport TextBox from './tools/TextBox';\r\nimport UploadImage from './tools/UploadImage/UploadImage';\r\n\r\nimport './Sidebar.scss';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\n\r\nclass SidebarContainer extends React.Component {\r\n    render() {\r\n        const {handleAdd} = this.props;\r\n        return (\r\n            <div className='sidebarWrapper'>\r\n                <div className='sidebarWrapper__content'>\r\n                    <div>\r\n                        <h4>Team Add Objects</h4>\r\n                        <Accordion defaultActiveKey='0'>\r\n                            <Accordion.Toggle as={Button} className='accordion-button' variant='link' eventKey='0'>\r\n                                <i className='fa fa-columns' aria-hidden='true'/>\r\n                                Layout\r\n                            </Accordion.Toggle>\r\n                            <Accordion.Collapse eventKey='0' className='accordion-collapse'>\r\n                                <Fragment>\r\n                                    <Header handleAdd={handleAdd} panningPosition={this.props.panningPosition}/>\r\n                                    <Footer handleAdd={handleAdd} panningPosition={this.props.panningPosition}/>\r\n                                </Fragment>\r\n                            </Accordion.Collapse>\r\n                        </Accordion>\r\n                        <Accordion>\r\n                            <Accordion.Toggle as={Button} className='accordion-button' variant='link' eventKey='1'>\r\n                                <i className='fa fa-text-width' aria-hidden='true'/>\r\n                                Wording\r\n                            </Accordion.Toggle>\r\n                            <Accordion.Collapse eventKey='1' className='accordion-collapse'>\r\n                                <Fragment>\r\n                                    <TextBox handleAdd={handleAdd} fontSize='32' name='Heading'\r\n                                             panningPosition={this.props.panningPosition}/>\r\n                                    <TextBox handleAdd={handleAdd} fontSize='24' name='Subheading'\r\n                                             panningPosition={this.props.panningPosition}/>\r\n                                    <TextBox handleAdd={handleAdd} fontSize='16' name='Text'\r\n                                             panningPosition={this.props.panningPosition}/>\r\n                                </Fragment>\r\n                            </Accordion.Collapse>\r\n                        </Accordion>\r\n                        <Accordion>\r\n                            <Accordion.Toggle as={Button} className='accordion-button' variant='link' eventKey='2'>\r\n                                <i className='fa fa-circle-o' aria-hidden='true'/>\r\n                                Geometric figures\r\n                            </Accordion.Toggle>\r\n                            <Accordion.Collapse eventKey='2' className='accordion-collapse'>\r\n                                <Fragment>\r\n                                    <Rect handleAdd={handleAdd} panningPosition={this.props.panningPosition}/>\r\n                                    {/* <Triangle handleAdd={handleAdd} /> */}\r\n                                    <Circle handleAdd={handleAdd} panningPosition={this.props.panningPosition}/>\r\n                                </Fragment>\r\n                            </Accordion.Collapse>\r\n                        </Accordion>\r\n                        <Accordion>\r\n                            <Accordion.Toggle as={Button} className='accordion-button' variant='link' eventKey='3'>\r\n                                <i className='fa fa-bars' aria-hidden='true'/>\r\n                                Additional items\r\n                            </Accordion.Toggle>\r\n                            <Accordion.Collapse eventKey='3' className='accordion-collapse'>\r\n                                <Fragment>\r\n                                    <Divider handleAdd={handleAdd} panningPosition={this.props.panningPosition}/>\r\n                                    <Input handleAdd={handleAdd} panningPosition={this.props.panningPosition}/>\r\n                                    <ButtonCustom handleAdd={handleAdd} panningPosition={this.props.panningPosition}/>\r\n                                    <ShareIcons handleAdd={handleAdd} panningPosition={this.props.panningPosition}/>\r\n                                </Fragment>\r\n                            </Accordion.Collapse>\r\n                        </Accordion>\r\n                    </div>\r\n                    <UploadImage handleAdd={handleAdd} panningPosition={this.props.panningPosition}/>\r\n                    <ConnectedCanvasesList\r\n                        handleDeleteCanvasWithId={this.props.handleDeleteCanvasWithId}\r\n                        currentlyEditingCanvasId={this.props.currentlyEditingCanvasId}\r\n                        handleLoadCanvas={this.props.handleLoadCanvas}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        panningPosition: state.canvas.panningPosition\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps)(SidebarContainer);\r\n","import React from 'react';\r\nimport UploadImage from '../sidebar/tools/UploadImage/UploadImage';\r\n\r\nclass CanvasSettings extends React.Component {\r\n\r\n    state = {\r\n        bgColor: this.props.canvas ? this.props.canvas.background : '#FFFFFF'\r\n    };\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if (prevProps.canvas !== this.props.canvas) {\r\n            this.setState({bgColor: this.props.canvas ? this.props.canvas.background : '#FFFFFF'});\r\n        }\r\n    };\r\n\r\n    shouldComponentUpdate = (nextProps, nextState) => {\r\n        return (nextProps.canvas !== this.props.canvas || nextState.bgColor !== this.state.bgColor);\r\n    };\r\n\r\n    handleChange = (event) => {\r\n        this.props.changeCanvasBg(event.target.value);\r\n        this.setState({bgColor: event.target.value});\r\n    };\r\n\r\n    handleAdd = (image) => {\r\n        this.props.changeCanvasBgImage(image);\r\n        this.setState(image);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h4>Canvas Settings</h4>\r\n                <div>\r\n                    <label>Background color &nbsp;</label>\r\n                    <input type='color' onChange={this.handleChange} value={this.state.bgColor}/>\r\n                </div>\r\n                <hr className='dropdown-divider'/>\r\n                <div className='canvas-settings-background'>\r\n                    <label>Background image</label>\r\n                    <UploadImage handleAdd={this.handleAdd} panningPosition={{}}/>\r\n                </div>\r\n                <hr className='dropdown-divider'/>\r\n                <h6>\r\n                    Select an object to edit\r\n                </h6>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CanvasSettings;\r\n","import React, { lazy, Suspense } from 'react';\r\nimport CanvasSettings from './CanvasSettings';\r\n\r\nimport './SettingsContainer.scss';\r\n\r\nconst ButtonSettings = lazy(() => import('./ButtonSettings/ButtonSettings'));\r\nconst ImageSettings = lazy(() => import('./ImageSettings'));\r\nconst LineSettings = lazy(() => import('./LineSettings/LineSettings'));\r\nconst ShareIconsSettings = lazy(() => import('./ShareIconsSettings'));\r\nconst ShapeSettings = lazy(() => import('./ShapeSettings/ShapeSettings'));\r\nconst TextSettings = lazy(() => import('./TextSettings/TextSettings'));\r\n\r\n// import ButtonSettings from './ButtonSettings/ButtonSettings';\r\n// import ShapeSettings from './ShapeSettings/ShapeSettings';\r\n// import LineSettings from './LineSettings/LineSettings';\r\n// import TextSettings from './TextSettings/TextSettings';\r\n// import ShareIconsSettings from './ShareIconsSettings';\r\n// import ImageSettings from './ImageSettings';\r\n\r\nexport const Settings = Object.freeze({\r\n    button: ButtonSettings,\r\n    circle: ShapeSettings,\r\n    image: ImageSettings,\r\n    input: ButtonSettings,\r\n    line: LineSettings,\r\n    rect: ShapeSettings,\r\n    shareIcons: ShareIconsSettings,\r\n    textbox: TextSettings,\r\n    triangle: ShapeSettings,\r\n});\r\n\r\nclass SettingsContainer extends React.Component {\r\n    render() {\r\n        const { currentElement, elementChange, groupElementChange } = this.props;\r\n        let type = currentElement.type;\r\n        if (currentElement.type === 'group' && currentElement.customType) {\r\n            type = currentElement.customType\r\n        }\r\n        let SettingsComponent = Settings[type];\r\n\r\n        if (!SettingsComponent) {\r\n            return (\r\n                <div className='settings-container'>\r\n                    <CanvasSettings canvas={this.props.canvas}\r\n                        changeCanvasBg={this.props.changeCanvasBg}\r\n                        changeCanvasBgImage={this.props.changeCanvasBgImage} />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className='settings-container'>\r\n                <Suspense fallback={<div>Loading...</div>}>\r\n                    <SettingsComponent\r\n                        elementChange={elementChange}\r\n                        currentElement={currentElement}\r\n                        groupElementChange={groupElementChange} />\r\n                </Suspense>\r\n                <hr className='dropdown-divider' />\r\n                <div>\r\n                    <button className='settings-button btn' onClick={() => this.props.center('V')}>Center vertically\r\n                    </button>\r\n                    <button className='settings-button btn' onClick={() => this.props.center('H')}>Center horizontally\r\n                    </button>\r\n                    <button className='settings-button btn' onClick={this.props.bringToTop}>Bring forward</button>\r\n                    <button className='settings-button btn' onClick={this.props.sendToBack}>Send back</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default SettingsContainer;\r\n","import React from 'react';\r\nimport './UndoRedoContainer.scss';\r\n\r\nconst UndoRedoContainer = ({handleUndoAndRedo}) => {\r\n    return (\r\n        <>\r\n            <button className='undoredoButton btn' onClick={ () => handleUndoAndRedo('undo') } >&#8634;</button>\r\n            <button className='undoredoButton btn' onClick={() => handleUndoAndRedo('redo')} >&#8635;</button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UndoRedoContainer;\r\n","import React from 'react';\r\nimport './PanningMode.scss';\r\nimport {faHandRock} from '@fortawesome/free-solid-svg-icons';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\n\r\nconst PanningModeButton = ({handlePanningMode, panningMode}) => {\r\n    return (\r\n            <button className={`${panningMode ? 'panningButton' : 'panningButton active'}`}\r\n                    onClick={handlePanningMode} >\r\n                <FontAwesomeIcon\r\n                    icon={faHandRock}/>\r\n            </button>\r\n    );\r\n};\r\n\r\nexport default PanningModeButton;\r\n","import './Save.scss';\r\nimport React from 'react';\r\n\r\nconst SaveAs = ({handleSave, disabled}) => {\r\n    return (\r\n        <>\r\n            <button className=\"saveButton btn\" onClick={ () => handleSave('png') } >\r\n                Save as PNG\r\n            </button>\r\n            <button\r\n                disabled={disabled}\r\n                className=\"saveButton btn\"\r\n                onClick={ () => handleSave('json') } >\r\n                Save as JSON\r\n            </button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SaveAs;\r\n","import React from 'react';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faClone, faObjectGroup, faObjectUngroup, faTrashAlt} from '@fortawesome/free-solid-svg-icons';\r\nimport _ from 'lodash';\r\nimport UndoAndRedo from './UndoRedoContainer/UndoRedoContainer';\r\nimport PanningModeButton from './PanningModeButton/PanningMode';\r\nimport SaveAs from './SaveAs/Save';\r\nimport './HeaderContainer.scss';\r\n\r\nconst HeaderContainer = ({\r\n                             handleCreateNewCanvas,\r\n                             handleEdit,\r\n                             currentlyEditingCanvasId,\r\n                             currentElement,\r\n                             handleRemove,\r\n                             handleUndoAndRedo,\r\n                             panningMode,\r\n                             handlePanningMode,\r\n                             handleClone,\r\n                             handleObjectsGroup,\r\n                             handleUnGroupObjects,\r\n                             handleSave,\r\n                         }) => {\r\n    return (\r\n        <div className='header-container d-flex'>\r\n            <div className='header-container__actionButtons d-flex align-items-center'>\r\n                <UndoAndRedo handleUndoAndRedo={handleUndoAndRedo}/>\r\n                <PanningModeButton\r\n                    panningMode={panningMode}\r\n                    handlePanningMode={handlePanningMode}/>\r\n                <button\r\n                    className='btn additional-btn ml-2'\r\n                    onClick={handleClone}\r\n                ><FontAwesomeIcon icon={faClone}/></button>\r\n                <button\r\n                    className='btn additional-btn ml-3 mr-3'\r\n                    onClick={handleObjectsGroup}\r\n                ><FontAwesomeIcon icon={faObjectGroup}/></button>\r\n                <button\r\n                    className='btn additional-btn mr-2'\r\n                    onClick={handleUnGroupObjects}\r\n                ><FontAwesomeIcon icon={faObjectUngroup}/></button>\r\n                <SaveAs\r\n                    disabled={currentlyEditingCanvasId}\r\n                    handleSave={handleSave}/>\r\n                <button disabled={_.isEmpty(currentElement)}\r\n                        className='btn mr-2 fontAwesome__override'\r\n                        onClick={() => handleRemove(currentElement)}>\r\n                    <FontAwesomeIcon icon={faTrashAlt}/>\r\n                </button>\r\n                <button\r\n                     type='button'\r\n                     onClick={ () => handleEdit(currentlyEditingCanvasId) }\r\n                     disabled={!currentlyEditingCanvasId}>\r\n                     Save Edit\r\n                </button>\r\n                <button onClick={handleCreateNewCanvas} >\r\n                    CreateNewCanvas\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HeaderContainer;\r\n","import { fabric } from 'fabric';\r\n\r\nexport default function initCenteringGuidelines(canvas) {\r\n\r\n    let canvasWidth = canvas.getWidth(),\r\n        canvasHeight = canvas.getHeight(),\r\n        canvasWidthCenter = canvasWidth / 2,\r\n        canvasHeightCenter = canvasHeight / 2,\r\n        canvasWidthCenterMap = { },\r\n        canvasHeightCenterMap = { },\r\n        centerLineMargin = 4,\r\n        centerLineColor = 'rgba(255,0,241,0.5)',\r\n        centerLineWidth = 1,\r\n        ctx = canvas.getSelectionContext(),\r\n        viewportTransform;\r\n\r\n    for (let i = canvasWidthCenter - centerLineMargin, len = canvasWidthCenter + centerLineMargin; i <= len; i++) {\r\n        canvasWidthCenterMap[Math.round(i)] = true;\r\n    }\r\n    for (let i = canvasHeightCenter - centerLineMargin, len = canvasHeightCenter + centerLineMargin; i <= len; i++) {\r\n        canvasHeightCenterMap[Math.round(i)] = true;\r\n    }\r\n\r\n    function showVerticalCenterLine() {\r\n        showCenterLine(canvasWidthCenter + 0.5, 0, canvasWidthCenter + 0.5, canvasHeight);\r\n    }\r\n\r\n    function showHorizontalCenterLine() {\r\n        showCenterLine(0, canvasHeightCenter + 0.5, canvasWidth, canvasHeightCenter + 0.5);\r\n    }\r\n\r\n    function showCenterLine(x1, y1, x2, y2) {\r\n        ctx.save();\r\n        ctx.strokeStyle = centerLineColor;\r\n        ctx.lineWidth = centerLineWidth;\r\n        ctx.beginPath();\r\n        ctx.moveTo(x1 * viewportTransform[0], y1 * viewportTransform[3]);\r\n        ctx.lineTo(x2 * viewportTransform[0], y2 * viewportTransform[3]);\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    let isInVerticalCenter,\r\n        isInHorizontalCenter;\r\n\r\n    canvas.on('mouse:down', function () {\r\n        viewportTransform = canvas.viewportTransform;\r\n    });\r\n\r\n    canvas.on('object:moving', function(e) {\r\n        let object = e.target,\r\n            objectCenter = object.getCenterPoint(),\r\n            transform = canvas._currentTransform;\r\n\r\n        if (!transform) return;\r\n\r\n        isInVerticalCenter = Math.round(objectCenter.x) in canvasWidthCenterMap;\r\n        isInHorizontalCenter = Math.round(objectCenter.y) in canvasHeightCenterMap;\r\n\r\n        if (isInHorizontalCenter || isInVerticalCenter) {\r\n            object.setPositionByOrigin(new fabric.Point((isInVerticalCenter ? canvasWidthCenter : objectCenter.x), (isInHorizontalCenter ? canvasHeightCenter : objectCenter.y)), 'center', 'center');\r\n        }\r\n    });\r\n\r\n    canvas.on('before:render', function() {\r\n        if (canvas.contextTop) {\r\n            canvas.clearContext(canvas.contextTop);\r\n        }\r\n    });\r\n\r\n    canvas.on('after:render', function() {\r\n        if (isInVerticalCenter) {\r\n            showVerticalCenterLine();\r\n        }\r\n        if (isInHorizontalCenter) {\r\n            showHorizontalCenterLine();\r\n        }\r\n    });\r\n\r\n    canvas.on('mouse:up', function() {\r\n        // clear these values, to stop drawing guidelines once mouse is up\r\n        isInVerticalCenter = isInHorizontalCenter = null;\r\n        canvas.renderAll();\r\n    });\r\n}\r\n","import './Footer.scss';\r\nimport React from 'react';\r\nimport {Icon} from 'react-svg-library';\r\n\r\nconst FooterContainer = (props) => {\r\n    return (\r\n        <div className='footer-container d-flex justify-content-between align-items-center'>\r\n            <div className='footer-container__team-resources d-flex'>\r\n                <div>\r\n                    <span className='footer-container__member'>Armen Petrosyan</span>\r\n                    <a href='https://github.com/armen558' target='_blank' rel=\"noopener noreferrer\">\r\n                        <Icon icon='github' size='1.5em'/>\r\n                    </a>\r\n                    <a href='https://www.linkedin.com/in/armen558/' target='_blank' rel=\"noopener noreferrer\">\r\n                        <Icon icon='linkedin-one' size='1.5em'/>\r\n                    </a>\r\n                </div>\r\n                <div>\r\n                    <span className='footer-container__member'>Lilit Khachatryan</span>\r\n                    <a href='https://github.com/Lilkhachatryan' target='_blank' rel=\"noopener noreferrer\">\r\n                        <Icon icon='github' size='1.5em'/>\r\n                    </a>\r\n                    <a href='https://www.linkedin.com/in/lilit-khachatryan-25a919197/' target='_blank' rel=\"noopener noreferrer\">\r\n                        <Icon icon='linkedin-one' size='1.5em'/>\r\n                    </a>\r\n                </div>\r\n                <div>\r\n                    <span className='footer-container__member'>Vardges Mushegyan</span>\r\n                    <a href='https://github.com/vardges-musheghyan' target='_blank' rel=\"noopener noreferrer\">\r\n                        <Icon icon='github' size='1.5em'/>\r\n                    </a>\r\n                    <a href='http://linkedin.com/in/vardges-musheghyan-a462b9154' target='_blank' rel=\"noopener noreferrer\">\r\n                        <Icon icon='linkedin-one' size='1.5em'/>\r\n                    </a>\r\n                </div>\r\n                <div>\r\n                    <span className='footer-container__member'>Aleksandr Martirosyan</span>\r\n                    <a href='https://github.com/al-mart' target='_blank' rel=\"noopener noreferrer\">\r\n                        <Icon icon='github' size='1.5em'/>\r\n\r\n                    </a>\r\n                    <a href='https://www.linkedin.com/in/aleksandr-martirosyan/' target='_blank' rel=\"noopener noreferrer\">\r\n                        <Icon icon='linkedin-one' size='1.5em'/>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div className='footer-container__icons-container d-flex align-items-center'>\r\n                <span>Toggle Canvas View</span>\r\n                <div className='footer-icons-container d-flex'>\r\n                    <div className='footer-icons-container-item' onClick={() => props.viewChanged(true)}>\r\n                        <Icon icon='website' size='2em'/>\r\n                    </div>\r\n                    <div className='footer-icons-container-item' onClick={() => props.viewChanged(false)}>\r\n                        <Icon icon='phone' size='2em'/>\r\n                    </div>\r\n                </div>\r\n                <span>© 2020 Copyright: Add Objects Team</span>\r\n            </div>\r\n            <div className='footer-container__team-resources d-flex'>\r\n                <div className='footer-container__links-container d-flex align-items-center'>\r\n                    <a href='https://reactjs.org/docs/getting-started.html' target='_blank'\r\n                       rel='noopener noreferrer'>React</a>\r\n                    <a href='https://fontawesome.com/' target='_blank'\r\n                       rel='noopener noreferrer'>Font Awesome</a>\r\n                    <a href='https://github.com/axios/axios' target='_blank'\r\n                       rel='noopener noreferrer'>Axios</a>\r\n                    <a href='http://fabricjs.com/' target='_blank'\r\n                       rel='noopener noreferrer'>Fabric</a>\r\n                    <a href='https://expressjs.com/' target='_blank'\r\n                       rel='noopener noreferrer'>Express</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FooterContainer;\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\nimport 'fabric-history';\r\nimport { connect } from 'react-redux';\r\nimport saveAs from 'file-saver';\r\nimport { changeDpiDataUrl } from \"changedpi/src\";\r\n\r\nimport SidebarContainer from \"../sidebar/SidebarContainer\";\r\nimport SettingsContainer from \"../settings/SettingsContainer\";\r\nimport HeaderContainer from \"../settings/Header/HeaderContainer\";\r\nimport './CanvasContainer.scss';\r\nimport initAligningGuidelines from \"../../utils/fabric/aligning_guidelines\";\r\nimport initCenteringGuidelines from \"../../utils/fabric/centering_guidelines\";\r\nimport * as actions from '../../actions/canvasActions';\r\nimport Footer from \"../Layout/Footer/Footer\";\r\n\r\nclass CanvasContainer extends React.Component {\r\n    state = {\r\n        currentlyEditingCanvasId: '',\r\n        panningMode: false,\r\n        isPanning: false,\r\n        sendCoords: false,\r\n        canvasSize: {\r\n            height: 500,\r\n            width: 650\r\n        },\r\n        isDesktopView: false,\r\n    };\r\n\r\n    deleteHandler = (event) => {\r\n        if (event.isComposing || event.keyCode === 229) {\r\n            return;\r\n        }\r\n        if (event.key === 'Delete' && Object.keys(this.props.currentElement).length > 0) {\r\n            this.handleRemove();\r\n        }\r\n    };\r\n\r\n    updateSelection = () => {\r\n        return this.props.onCurrentObjectUpdate(this.canvas.getActiveObject().toObject(['id', 'colors', 'fillName', 'customType']));\r\n    };\r\n\r\n    removeSelection = () => {\r\n        return this.props.onCurrentObjectUpdate({});\r\n    };\r\n    handleSave = (type) => {\r\n        if (type === 'png') {\r\n            let urlData = this.canvas.toDataURL({ format: 'png', multiplier: 4 });\r\n            let changedDpi = changeDpiDataUrl(urlData, 5000);\r\n            saveAs(changedDpi);\r\n        } else {\r\n            this.createNewCanvas();\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (!this.state.isDesktopView) {\r\n            this.setState({\r\n                canvasSize: {\r\n                    height: 600,\r\n                    width: 700\r\n                }\r\n            });\r\n        }\r\n        this.canvas = new fabric.Canvas('canvas', {\r\n            backgroundColor: '#FFFFFF',\r\n            preserveObjectStacking: true,\r\n            hoverCursor: 'pointer',\r\n            // selection: true,\r\n            // selectionBorderColor: 'green',\r\n        });\r\n        initAligningGuidelines(this.canvas);\r\n        initCenteringGuidelines(this.canvas);\r\n\r\n        this.canvas.on('selection:created', this.updateSelection);\r\n        this.canvas.on('selection:updated', this.updateSelection);\r\n        this.canvas.on('selection:cleared', this.removeSelection);\r\n\r\n        this.handlePan();\r\n        this.handleZoom();\r\n        window.addEventListener(\"keydown\", this.deleteHandler);\r\n    };\r\n\r\n\r\n    componentWillUnmount = () => {\r\n        this.canvas.off('selection:created', this.updateSelection);\r\n        this.canvas.off('selection:updated', this.updateSelection);\r\n        this.canvas.off('selection:cleared', this.removeSelection);\r\n\r\n        window.removeEventListener('keydown', this.deleteHandler);\r\n    };\r\n\r\n\r\n    handleZoom = () => {\r\n        const returnCanvas = () => this.canvas;\r\n        this.canvas.on('mouse:wheel', function (opt) {\r\n            let delta = opt.e.deltaY;\r\n            let zoom = returnCanvas().getZoom();\r\n            zoom *= 0.999 ** delta;\r\n            if (zoom > 5) zoom = 5;\r\n            if (zoom < 0.5) zoom = 0.5;\r\n            returnCanvas().zoomToPoint(returnCanvas().getVpCenter(), zoom);\r\n            opt.e.preventDefault();\r\n            opt.e.stopPropagation();\r\n        });\r\n    };\r\n\r\n    handlePan = () => {\r\n        let move = { x: 0, y: 0 };\r\n        this.canvas.on('mouse:move', (event) => {\r\n            if (this.state.panningMode) {\r\n                this.canvas.setCursor('grab');\r\n            }\r\n            if (this.state.isPanning && this.state.panningMode) {\r\n                this.canvas.setCursor('grab');\r\n                const { e: { movementX, movementY } } = event;\r\n                const delta = new fabric.Point(movementX, movementY);\r\n                this.canvas.relativePan(delta);\r\n                move.x += movementX;\r\n                move.y += movementY;\r\n            }\r\n        });\r\n        this.canvas.on('mouse:down', (event) => {\r\n            if (this.state.panningMode) {\r\n                this.canvas.forEachObject((o) => o.selectable = false);\r\n                this.canvas.setCursor('grab');\r\n                this.setState({\r\n                    isPanning: true,\r\n                    sendCoords: true\r\n                });\r\n                this.canvas.selection = false;\r\n            } else {\r\n                this.canvas.selection = true;\r\n                this.canvas.forEachObject((o) => o.selectable = true);\r\n            }\r\n        });\r\n\r\n        this.canvas.on('mouse:up', () => {\r\n            this.props.onUpdatePanningPosition(move);\r\n            this.setState({\r\n                isPanning: false,\r\n            });\r\n        });\r\n    };\r\n    handleUndoAndRedo = (type) => {\r\n        type === 'undo' ? this.canvas.undo() : this.canvas.redo();\r\n    };\r\n\r\n    handleAdd = (obj) => {\r\n        this.canvas.add(obj);\r\n    };\r\n\r\n    handleRemove = () => {\r\n        this.props.onDeleteObject(this.canvas, this.props.currentElement);\r\n    };\r\n\r\n    handleClone = () => {\r\n        let activeObject = this.canvas.getActiveObject();\r\n        activeObject.clone((cloned) => {\r\n            this.canvas.discardActiveObject();\r\n            cloned.set({\r\n                top: cloned.top + 20,\r\n                evented: true\r\n            });\r\n            if (cloned.type === 'activeSelection') {\r\n                cloned.canvas = this.canvas;\r\n                cloned.forEachObject((obj) => {\r\n                    this.canvas.add(obj);\r\n                });\r\n                cloned.setCoords();\r\n            } else {\r\n                this.canvas.add(cloned);\r\n            }\r\n            this.canvas.setActiveObject(cloned);\r\n            this.canvas.requestRenderAll();\r\n        });\r\n    };\r\n\r\n    handleObjectsGroup = () => {\r\n        if (!this.canvas.getActiveObject()) {\r\n            return;\r\n        }\r\n        if (this.canvas.getActiveObject().type !== 'activeSelection') {\r\n            return;\r\n        }\r\n        this.canvas.getActiveObject().toGroup();\r\n        this.canvas.requestRenderAll();\r\n    };\r\n\r\n    handleUnGroupObjects = () => {\r\n        if (!this.canvas.getActiveObject()) {\r\n            return;\r\n        }\r\n        if (this.canvas.getActiveObject().type !== 'group') {\r\n            return;\r\n        }\r\n        this.canvas.getActiveObject().toActiveSelection();\r\n        this.canvas.requestRenderAll();\r\n    };\r\n\r\n    handlePanningMode = () => {\r\n        this.setState({\r\n            panningMode: !this.state.panningMode\r\n        });\r\n    };\r\n\r\n    handleElementPropChange = (obj, index) => {\r\n        this.props.onElementPropChange(this.canvas, obj, index);\r\n    };\r\n\r\n    handleGroupPropChange = (obj) => {\r\n        this.props.onGroupPropChange(this.canvas, obj);\r\n    };\r\n\r\n    handleBringToTop = () => {\r\n        const activeObj = this.canvas.getActiveObject();\r\n        activeObj.bringToFront();\r\n    };\r\n    handleSendToBack = () => {\r\n        const activeObj = this.canvas.getActiveObject();\r\n        activeObj.sendToBack();\r\n    };\r\n    handleCenter = (type) => {\r\n        if (type === 'H') {\r\n            const activeObj = this.canvas.getActiveObject();\r\n            activeObj.centerH();\r\n            activeObj.setCoords();\r\n        } else if (type === 'V') {\r\n            const activeObj = this.canvas.getActiveObject();\r\n            activeObj.centerV();\r\n            activeObj.setCoords();\r\n        }\r\n    };\r\n\r\n    handleCanvasBgChange = (value) => {\r\n        this.canvas.setBackgroundColor(value);\r\n        this.canvas.renderAll();\r\n    };\r\n    handleCanvasBgImageChange = (image) => {\r\n        image.set({\r\n            ...this.state.canvasSize,\r\n            scaleX: 1,\r\n            scaleY: 1,\r\n            top: 0,\r\n            left: 0\r\n        });\r\n        this.canvas.setBackgroundImage(image, this.canvas.renderAll.bind(this.canvas), {\r\n            backgroundImageOpacity: 0.5,\r\n            backgroundImageStretch: false\r\n        });\r\n    };\r\n\r\n    deviceViewHandler = (isDesktopView) => {\r\n        this.canvasRef = null;\r\n        this.setState({ isDesktopView: isDesktopView });\r\n    };\r\n\r\n    handleLoadCanvas = (c) => {\r\n        const { canvas, _id } = c;\r\n        this.setState({\r\n            currentlyEditingCanvasId: _id\r\n        });\r\n        this.canvas.loadFromJSON(canvas);\r\n    };\r\n\r\n    handleEdit = (id) => {\r\n        const cb = () => {\r\n            this.canvas.clear();\r\n            this.setState({\r\n                currentlyEditingCanvasId: ''\r\n            });\r\n        };\r\n        const canvas = this.canvas.toJSON(['customType', 'borderColor', 'borderDashArray', 'cornerColor', 'cornerSize', 'cornerStyle', 'transparentCorners', 'cornerStrokeColor', 'id', 'fillname']);\r\n        this.props.onUpdateCanvas(id, canvas, cb);\r\n    };\r\n    handleCreateNewCanvas = () => {\r\n        this.setState({\r\n            currentlyEditingCanvasId: ''\r\n        }, () => this.canvas.clear());\r\n    };\r\n    createNewCanvas = () => {\r\n        const canvas = this.canvas.toJSON(['customType', 'borderColor', 'borderDashArray', 'cornerColor', 'cornerSize', 'cornerStyle', 'transparentCorners', 'cornerStrokeColor', 'id', 'fillname']);\r\n        this.props.onPostCanvas(canvas, this.handleCreateNewCanvas);\r\n    };\r\n    handleDeleteCanvasWithId = (id) => {\r\n        this.props.onDeleteCanvas(id);\r\n    };\r\n    render() {\r\n        let canvas = this.canvas ? this.canvas.toObject() : null;\r\n        const canvasSize = {\r\n            height: 500,\r\n            width: 650\r\n        };\r\n        if (!this.state.isDesktopView) {\r\n            canvasSize.height = 500;\r\n            canvasSize.width = 300;\r\n        }\r\n        return (\r\n            <>\r\n                <SidebarContainer\r\n                    handleDeleteCanvasWithId={this.handleDeleteCanvasWithId}\r\n                    currentlyEditingCanvasId={this.state.currentlyEditingCanvasId}\r\n                    handleLoadCanvas={this.handleLoadCanvas}\r\n                    handleAdd={this.handleAdd} />\r\n                <div className=\"main-container\">\r\n                    <div>\r\n                        <HeaderContainer\r\n                            handleCreateNewCanvas={this.handleCreateNewCanvas}\r\n                            handleEdit={this.handleEdit}\r\n                            currentlyEditingCanvasId={this.state.currentlyEditingCanvasId}\r\n                            handleSave={this.handleSave}\r\n                            panningMode={this.state.panningMode}\r\n                            handlePanningMode={this.handlePanningMode}\r\n                            handleUndoAndRedo={this.handleUndoAndRedo}\r\n                            currentElement={this.props.currentElement}\r\n                            handleRemove={this.handleRemove}\r\n                            handleClone={this.handleClone}\r\n                            handleUnGroupObjects={this.handleUnGroupObjects}\r\n                            handleObjectsGroup={this.handleObjectsGroup}\r\n                            bringToTop={this.handleBringToTop}\r\n                            center={this.handleCenter} />\r\n                        <div className='main-container__canvas-section'>\r\n                            <canvas\r\n                                className='canvas'\r\n                                height=\"550\"//{this.state.canvasSize.height}\r\n                                width=\"650\"//{this.state.canvasSize.width}\r\n                                id='canvas'>\r\n                            </canvas>\r\n                            <SettingsContainer\r\n                                currentElement={this.props.currentElement}\r\n                                elementChange={this.handleElementPropChange}\r\n                                groupElementChange={this.handleGroupPropChange}\r\n                                bringToTop={this.handleBringToTop}\r\n                                sendToBack={this.handleSendToBack}\r\n                                center={this.handleCenter}\r\n                                changeCanvasBg={this.handleCanvasBgChange}\r\n                                changeCanvasBgImage={this.handleCanvasBgImageChange}\r\n                                canvas={canvas}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <Footer viewChanged={(event) => this.deviceViewHandler(event)} />\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        currentElement: state.canvas.currentElement\r\n    };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onDeleteCanvas: (id) => dispatch(actions.handleDeleteCanvasWithId(id)),\r\n        onUpdateCanvas: (id, canvas, cb) => dispatch(actions.handleUpdateCanvas(id, canvas, cb)),\r\n        onPostCanvas: (canvas, cb) => dispatch(actions.handlePostCanvas(canvas, cb)),\r\n        onCurrentObjectUpdate: (obj) => dispatch(actions.updateCurrentObject(obj)),\r\n        onDeleteObject: (canvas, obj) => dispatch(actions.deleteObject(canvas, obj)),\r\n        onElementPropChange: (canvas, obj, index) => dispatch(actions.updateElement(canvas, obj, index)),\r\n        onGroupPropChange: (canvas, obj) => dispatch(actions.updateGroupElement(canvas, obj)),\r\n        onUpdatePanningPosition: (data) => dispatch(actions.updatePanningPosition(data))\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CanvasContainer);\r\n","import { fabric } from 'fabric';\r\n\r\nexport default function initAligningGuidelines(canvas) {\r\n\r\n    let ctx = canvas.getSelectionContext(),\r\n        aligningLineOffset = 5,\r\n        aligningLineMargin = 4,\r\n        aligningLineWidth = 1,\r\n        aligningLineColor = 'rgb(0,255,0)',\r\n        viewportTransform,\r\n        zoom = 1;\r\n\r\n    function drawVerticalLine(coords) {\r\n        drawLine(\r\n            coords.x + 0.5,\r\n            coords.y1 > coords.y2 ? coords.y2 : coords.y1,\r\n            coords.x + 0.5,\r\n            coords.y2 > coords.y1 ? coords.y2 : coords.y1);\r\n    }\r\n\r\n    function drawHorizontalLine(coords) {\r\n        drawLine(\r\n            coords.x1 > coords.x2 ? coords.x2 : coords.x1,\r\n            coords.y + 0.5,\r\n            coords.x2 > coords.x1 ? coords.x2 : coords.x1,\r\n            coords.y + 0.5);\r\n    }\r\n\r\n    function drawLine(x1, y1, x2, y2) {\r\n        ctx.save();\r\n        ctx.lineWidth = aligningLineWidth;\r\n        ctx.strokeStyle = aligningLineColor;\r\n        ctx.beginPath();\r\n        ctx.moveTo(((x1+viewportTransform[4])*zoom), ((y1+viewportTransform[5])*zoom));\r\n        ctx.lineTo(((x2+viewportTransform[4])*zoom), ((y2+viewportTransform[5])*zoom));\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n\r\n    function isInRange(value1, value2) {\r\n        value1 = Math.round(value1);\r\n        value2 = Math.round(value2);\r\n        for (let i = value1 - aligningLineMargin, len = value1 + aligningLineMargin; i <= len; i++) {\r\n            if (i === value2) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    let verticalLines = [],\r\n        horizontalLines = [];\r\n\r\n    canvas.on('mouse:down', function () {\r\n        viewportTransform = canvas.viewportTransform;\r\n        zoom = canvas.getZoom();\r\n    });\r\n\r\n    canvas.on('object:moving', function(e) {\r\n\r\n        let activeObject = e.target,\r\n            canvasObjects = canvas.getObjects(),\r\n            activeObjectCenter = activeObject.getCenterPoint(),\r\n            activeObjectLeft = activeObjectCenter.x,\r\n            activeObjectTop = activeObjectCenter.y,\r\n            activeObjectBoundingRect = activeObject.getBoundingRect(),\r\n            activeObjectHeight = activeObjectBoundingRect.height / viewportTransform[3],\r\n            activeObjectWidth = activeObjectBoundingRect.width / viewportTransform[0],\r\n            horizontalInTheRange = false,\r\n            verticalInTheRange = false,\r\n            transform = canvas._currentTransform;\r\n\r\n        if (!transform) return;\r\n\r\n        // It should be trivial to DRY this up by encapsulating (repeating) creation of x1, x2, y1, and y2 into functions,\r\n        // but we're not doing it here for perf. reasons -- as this a function that's invoked on every mouse move\r\n\r\n        for (let i = canvasObjects.length; i--; ) {\r\n\r\n            if (canvasObjects[i] === activeObject) continue;\r\n\r\n            let objectCenter = canvasObjects[i].getCenterPoint(),\r\n                objectLeft = objectCenter.x,\r\n                objectTop = objectCenter.y,\r\n                objectBoundingRect = canvasObjects[i].getBoundingRect(),\r\n                objectHeight = objectBoundingRect.height / viewportTransform[3],\r\n                objectWidth = objectBoundingRect.width / viewportTransform[0];\r\n\r\n            // snap by the horizontal center line\r\n            if (isInRange(objectLeft, activeObjectLeft)) {\r\n                verticalInTheRange = true;\r\n                verticalLines.push({\r\n                    x: objectLeft,\r\n                    y1: (objectTop < activeObjectTop)\r\n                        ? (objectTop - objectHeight / 2 - aligningLineOffset)\r\n                        : (objectTop + objectHeight / 2 + aligningLineOffset),\r\n                    y2: (activeObjectTop > objectTop)\r\n                        ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\r\n                        : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\r\n                });\r\n                activeObject.setPositionByOrigin(new fabric.Point(objectLeft, activeObjectTop), 'center', 'center');\r\n            }\r\n\r\n            // snap by the left edge\r\n            if (isInRange(objectLeft - objectWidth / 2, activeObjectLeft - activeObjectWidth / 2)) {\r\n                verticalInTheRange = true;\r\n                verticalLines.push({\r\n                    x: objectLeft - objectWidth / 2,\r\n                    y1: (objectTop < activeObjectTop)\r\n                        ? (objectTop - objectHeight / 2 - aligningLineOffset)\r\n                        : (objectTop + objectHeight / 2 + aligningLineOffset),\r\n                    y2: (activeObjectTop > objectTop)\r\n                        ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\r\n                        : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\r\n                });\r\n                activeObject.setPositionByOrigin(new fabric.Point(objectLeft - objectWidth / 2 + activeObjectWidth / 2, activeObjectTop), 'center', 'center');\r\n            }\r\n\r\n            // snap by the right edge\r\n            if (isInRange(objectLeft + objectWidth / 2, activeObjectLeft + activeObjectWidth / 2)) {\r\n                verticalInTheRange = true;\r\n                verticalLines.push({\r\n                    x: objectLeft + objectWidth / 2,\r\n                    y1: (objectTop < activeObjectTop)\r\n                        ? (objectTop - objectHeight / 2 - aligningLineOffset)\r\n                        : (objectTop + objectHeight / 2 + aligningLineOffset),\r\n                    y2: (activeObjectTop > objectTop)\r\n                        ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\r\n                        : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\r\n                });\r\n                activeObject.setPositionByOrigin(new fabric.Point(objectLeft + objectWidth / 2 - activeObjectWidth / 2, activeObjectTop), 'center', 'center');\r\n            }\r\n\r\n            // snap by the vertical center line\r\n            if (isInRange(objectTop, activeObjectTop)) {\r\n                horizontalInTheRange = true;\r\n                horizontalLines.push({\r\n                    y: objectTop,\r\n                    x1: (objectLeft < activeObjectLeft)\r\n                        ? (objectLeft - objectWidth / 2 - aligningLineOffset)\r\n                        : (objectLeft + objectWidth / 2 + aligningLineOffset),\r\n                    x2: (activeObjectLeft > objectLeft)\r\n                        ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\r\n                        : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\r\n                });\r\n                activeObject.setPositionByOrigin(new fabric.Point(activeObjectLeft, objectTop), 'center', 'center');\r\n            }\r\n\r\n            // snap by the top edge\r\n            if (isInRange(objectTop - objectHeight / 2, activeObjectTop - activeObjectHeight / 2)) {\r\n                horizontalInTheRange = true;\r\n                horizontalLines.push({\r\n                    y: objectTop - objectHeight / 2,\r\n                    x1: (objectLeft < activeObjectLeft)\r\n                        ? (objectLeft - objectWidth / 2 - aligningLineOffset)\r\n                        : (objectLeft + objectWidth / 2 + aligningLineOffset),\r\n                    x2: (activeObjectLeft > objectLeft)\r\n                        ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\r\n                        : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\r\n                });\r\n                activeObject.setPositionByOrigin(new fabric.Point(activeObjectLeft, objectTop - objectHeight / 2 + activeObjectHeight / 2), 'center', 'center');\r\n            }\r\n\r\n            // snap by the bottom edge\r\n            if (isInRange(objectTop + objectHeight / 2, activeObjectTop + activeObjectHeight / 2)) {\r\n                horizontalInTheRange = true;\r\n                horizontalLines.push({\r\n                    y: objectTop + objectHeight / 2,\r\n                    x1: (objectLeft < activeObjectLeft)\r\n                        ? (objectLeft - objectWidth / 2 - aligningLineOffset)\r\n                        : (objectLeft + objectWidth / 2 + aligningLineOffset),\r\n                    x2: (activeObjectLeft > objectLeft)\r\n                        ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\r\n                        : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\r\n                });\r\n                activeObject.setPositionByOrigin(new fabric.Point(activeObjectLeft, objectTop + objectHeight / 2 - activeObjectHeight / 2), 'center', 'center');\r\n            }\r\n        }\r\n\r\n        if (!horizontalInTheRange) {\r\n            horizontalLines.length = 0;\r\n        }\r\n\r\n        if (!verticalInTheRange) {\r\n            verticalLines.length = 0;\r\n        }\r\n    });\r\n\r\n    canvas.on('before:render', function() {\r\n        if (canvas.contextTop) {\r\n            canvas.clearContext(canvas.contextTop);\r\n        }\r\n    });\r\n\r\n    canvas.on('after:render', function() {\r\n        for (let i = verticalLines.length; i--; ) {\r\n            drawVerticalLine(verticalLines[i]);\r\n        }\r\n        for (let i = horizontalLines.length; i--; ) {\r\n            drawHorizontalLine(horizontalLines[i]);\r\n        }\r\n\r\n        verticalLines.length = horizontalLines.length = 0;\r\n    });\r\n\r\n    canvas.on('mouse:up', function() {\r\n        verticalLines.length = horizontalLines.length = 0;\r\n        canvas.renderAll();\r\n    });\r\n}\r\n","import React from 'react';\r\n\r\nconst Field = ({errorText, hasError, labelText, name, ...props}) => {\r\n    return (\r\n        <div className='form-group'>\r\n            <label className='field-label text-muted' htmlFor={name}>{labelText}</label>\r\n            <input className='field-styling'\r\n                   id={name}\r\n                   name={name}\r\n                   {...props}\r\n            />\r\n            {\r\n                hasError &&\r\n                <small className='text-danger'>\r\n                    {errorText}\r\n                </small>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Field;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Account = ({children, linkText, pathToNavigate}) => {\r\n    return (\r\n        <div className='field-info-link'>\r\n            <Link to={pathToNavigate}>\r\n                {linkText}\r\n            </Link>\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Account;\r\n","import React from 'react';\r\nimport * as YUP from 'yup';\r\nimport {withFormik} from \"formik\";\r\nimport Field from \"../../components/Field\";\r\nimport {connect} from \"react-redux\";\r\nimport {handleLoginUser} from \"../../actions/UserActions\";\r\nimport Account from \"./Account\";\r\n\r\n\r\nconst Login = ({values, handleChange, errors, touched, handleBlur, submitForm, isSubmitting}) => {\r\n    function getTouchedAndError(fieldName) {\r\n        return touched[fieldName] && errors[fieldName];\r\n    }\r\n\r\n    function handleSubmit() {\r\n        submitForm();\r\n    }\r\n\r\n    return (\r\n        <form className='login-form'>\r\n            <div className='avatar-icon'>\r\n                <img src=\"https://i.stack.imgur.com/l60Hf.png\" alt=\"\"/>\r\n            </div>\r\n            <Account\r\n                linkText='Do not have an account? just register'\r\n                pathToNavigate='/register'\r\n            />\r\n            <Field\r\n                type='text'\r\n                labelText='login'\r\n                errorText={errors.email}\r\n                name='email'\r\n                className='field-styling'\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                value={values.email}\r\n                hasError={getTouchedAndError('email')}\r\n            />\r\n            <Field\r\n                type='password'\r\n                labelText='password'\r\n                errorText={errors.password}\r\n                name='password'\r\n                className='field-styling'\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                value={values.password}\r\n                hasError={getTouchedAndError('password')}\r\n            />\r\n            <Field\r\n                type='checkbox'\r\n                labelText='Remember me'\r\n                errorText={errors.rememberMe}\r\n                name='rememberMe'\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                value={values.rememberMe}\r\n                className='checkbox'\r\n                hasError={getTouchedAndError('rememberMe')}\r\n            />\r\n            <button\r\n                className='btn'\r\n                disabled={isSubmitting}\r\n                onClick={handleSubmit}\r\n                type='button'>\r\n                Log in\r\n            </button>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst WithLoginForm = withFormik({\r\n    mapPropsToValues() {\r\n        return {\r\n            email: '',\r\n            password: '',\r\n            rememberMe: false\r\n        };\r\n    },\r\n    validationSchema: YUP.object().shape({\r\n        email: YUP.string().email().required(),\r\n        password: YUP.string().required(),\r\n        rememberMe: YUP.boolean()\r\n    }),\r\n    handleSubmit(values, {props, ...rest}) {\r\n        rest.setSubmitting(true);\r\n        const {rememberMe, ...user} = values;\r\n        props.dispatch(handleLoginUser(\r\n            user,\r\n            () => {\r\n                rest.resetForm();\r\n                rest.setSubmitting(false);\r\n            },\r\n            () => props.history.push('/workspace'),\r\n            rememberMe));\r\n    }\r\n})(Login);\r\n\r\n\r\nconst ConnectedLogin = connect(state => ({\r\n    loading: state.login.loading,\r\n    loaded: state.login.loaded,\r\n    error: state.login.error\r\n}))(WithLoginForm);\r\n\r\nexport default ConnectedLogin;\r\n","import React from 'react';\r\nimport {withFormik} from \"formik\";\r\nimport Field from \"../../components/Field\";\r\nimport * as YUP from 'yup';\r\nimport {connect} from 'react-redux';\r\nimport {passwordValidator} from \"../../utils/validators\";\r\nimport {handleRegisterUser} from \"../../actions/UserActions\";\r\nimport Account from \"./Account\";\r\nimport './LoginStyles.scss';\r\n\r\n\r\nconst passwordValidationText = 'Password should contain at least one uppercase letter, one lowercase letter, should consist of 5 or more characters';\r\nconst confirmPasswordValidationMessage = 'field password and confirm password are not matching!';\r\n\r\n\r\nconst Register = ({values, handleChange, handleBlur, errors, touched, submitForm, isSubmitting}) => {\r\n    function getTouchedAndError(fieldName) {\r\n        return touched[fieldName] && errors[fieldName];\r\n    }\r\n    function handleSubmit() {\r\n        submitForm();\r\n    }\r\n    return (\r\n        <div className='form__container'>\r\n            <div className='register-title'>\r\n                <hr className='dropdown-divider d-block'/>\r\n                <h4 className=''>Register</h4>\r\n            </div>\r\n            <Account\r\n                linkText='Already have an account? just login'\r\n                pathToNavigate='/login'\r\n            />\r\n            <form>\r\n                <Field\r\n                    errorText={errors.email}\r\n                    hasError={getTouchedAndError('email')}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.email}\r\n                    name='email'\r\n                    labelText='please enter your e-mail'\r\n                />\r\n                <Field\r\n                    errorText={errors.first_name}\r\n                    hasError={getTouchedAndError('first_name')}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.first_name}\r\n                    name='first_name'\r\n                    labelText='please enter your first name'\r\n                />\r\n                <Field\r\n                    errorText={errors.last_name}\r\n                    hasError={getTouchedAndError('last_name')}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.last_name}\r\n                    name='last_name'\r\n                    labelText='please enter your last name'\r\n                />\r\n                <Field\r\n                    errorText={errors.password}\r\n                    hasError={getTouchedAndError('password')}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.password}\r\n                    name='password'\r\n                    labelText='please create a password'\r\n                />\r\n                <Field\r\n                    errorText={errors.confirmPassword}\r\n                    hasError={getTouchedAndError('confirmPassword')}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.confirmPassword}\r\n                    name='confirmPassword'\r\n                    labelText='please confirm the created password'\r\n                />\r\n                <button\r\n                    className='btn'\r\n                    onClick={handleSubmit}\r\n                    disabled={isSubmitting}\r\n                    type='button'>\r\n                    Submit\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst WithRegisterForm = withFormik({\r\n    mapPropsToValues() {\r\n        return {\r\n            email: '',\r\n            password: '',\r\n            confirmPassword: '',\r\n            first_name: '',\r\n            last_name: ''\r\n        };\r\n    },\r\n    validationSchema: YUP.object().shape({\r\n        email: YUP.string().email().required(),\r\n        first_name: YUP.string().required(),\r\n        last_name: YUP.string().required(),\r\n        password: YUP.string().test('password validator', passwordValidationText, passwordValidator).required(),\r\n        confirmPassword: YUP.string().test( 'match', confirmPasswordValidationMessage, function (value) {\r\n            return value && value === this.parent.password;\r\n        } ).required()\r\n    }),\r\n    handleSubmit(values, {props, ...rest}){\r\n        rest.setSubmitting(true);\r\n        const {confirmPassword, ...user} = values;\r\n        props.dispatch(handleRegisterUser(user,\r\n            () => {rest.setSubmitting(false); rest.resetForm(); props.history.push('/login');},\r\n            () => {rest.setSubmitting(false); })\r\n            );\r\n    }\r\n})(Register);\r\n\r\n\r\nconst ConnectedRegister = connect( state => ({\r\n    loading: state.register.loading,\r\n    loaded: state.register.loaded,\r\n    error: state.register.error,\r\n}) )(WithRegisterForm);\r\n\r\nexport default ConnectedRegister;\r\n\r\n\r\n","export function passwordValidator(value) {\r\n    const regexp = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?!.*[ ]).{5,}$/g;\r\n    if (!value){\r\n        return true;\r\n    }\r\n    return value && regexp.test(value);\r\n}\r\n\r\n","import React from 'react';\r\nimport './LoginStyles.scss';\r\nimport {returnToken } from \"../../utils/helpers\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst AuthContainer = ({children}) => {\r\n    if (returnToken()){\r\n     return <Redirect to='/workspace' />;\r\n    }\r\n    return (\r\n        <div className='auth__container'>\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AuthContainer;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  className: \"rects\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  stroke: \"#7de07d\",\n  rx: 10,\n  id: \"svg_1\",\n  height: 153.000007,\n  width: 153.000007,\n  y: 1.453123,\n  x: 162.499996,\n  strokeWidth: 3,\n  fill: \"#fafbfc\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  stroke: \"#7f7ff9\",\n  rx: 10,\n  id: \"svg_3\",\n  height: 115.000004,\n  width: 115.000004,\n  y: 62.453126,\n  x: 7.499995,\n  strokeWidth: 3,\n  fill: \"#fafbfc\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  stroke: \"#af74f2\",\n  rx: 10,\n  id: \"svg_4\",\n  height: 135.999995,\n  width: 135.999995,\n  y: 204.453133,\n  x: 84.499998,\n  strokeWidth: 3,\n  fill: \"#fafbfc\"\n}));\n\nvar SvgRects = function SvgRects(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 155,\n    height: 170,\n    viewBox: \"0 0 320 350\",\n    style: {\n      width: 143\n    },\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgRects, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/rects.f31a73c9.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavDropdown from 'react-bootstrap/NavDropdown';\r\nimport {connect} from 'react-redux';\r\nimport { ReactComponent as Rects } from '../../../assets/images/rects.svg';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nimport './Header.scss';\r\nimport {handleUserLogOut} from \"../../../actions/UserActions\";\r\n\r\n\r\nconst Header = ({history, dispatch}) => {\r\n    const handleLogOut = () => {\r\n        dispatch(handleUserLogOut( () => history.push('/login') ));\r\n    };\r\n    return (\r\n        <div className='app-header'>\r\n            <header className='app-header__headings'>\r\n\r\n                <div>\r\n                    <Link to=\"/\"><Rects /></Link>\r\n                    <h1 className='app-header__headings-item'>\r\n                        Prototype Builder\r\n                    </h1>\r\n                </div>\r\n                <NavDropdown title={\r\n                    <div>\r\n                        <img\r\n                            src='https://i.stack.imgur.com/l60Hf.png'\r\n                            alt='user pic' className='user-avatar' />\r\n                    </div>\r\n                } id='basic-nav-dropdown'>\r\n\r\n                    <NavDropdown.Item onClick={handleLogOut} >\r\n                        Log out\r\n                    </NavDropdown.Item>\r\n                </NavDropdown>\r\n            </header>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst ConnectedHeader = connect()(Header);\r\n\r\nexport default withRouter(ConnectedHeader);\r\n","import React from 'react';\r\nimport Header from './Header/Header';\r\n\r\nconst PageLayout = ({children}) => {\r\n    return (\r\n        <div>\r\n            <Header/>\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageLayout;\r\n\r\n\r\n","import React from 'react';\r\n\r\nconst PageNotFound = () => {\r\n    return (\r\n        <div className='text-danger text-center' >\r\n            OOOOPPPPSSS PAGE NOT FOUND\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageNotFound;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { ReactComponent as Rects } from '../../assets/images/rects.svg';\r\nimport gifSrc from '../../assets/images/projectGif.gif';\r\n\r\nimport './Home.scss';\r\n\r\nconst Home = props => {\r\n    return (\r\n        <div className=\"homepage\">\r\n            <div className=\"container\">\r\n                <div className=\"headingContainer\">\r\n                    <h1>Best design tool for websites</h1>\r\n                    <h3>Simple. Powerful. Flexible. Experience the power of 100% visual design.</h3>\r\n                    <Rects />\r\n                </div>\r\n                <div className=\"imgContainer\">\r\n                    <img src={gifSrc} alt=\"gif\" />\r\n                </div>\r\n                <div className=\"btnContainer\">\r\n                    <Link className=\"btn\" to=\"/register\">Get started</Link>\r\n                    {props.token ? null : <Link className=\"btn\" to=\"/login\">Log in</Link>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        token: state.login.token\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Home);\r\n","import React from 'react';\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport './App.scss';\r\nimport {Authenticate} from \"./pages/Authenticate\";\r\nimport ConnectedLogin from \"./pages/auth/Login\";\r\nimport ConnectedRegister from \"./pages/auth/Register\";\r\nimport AuthContainer from \"./pages/auth/AuthContainer\";\r\nimport PageLayout from \"./components/Layout/PageLayout\";\r\nimport PageNotFound from \"./pages/PageNotFound\";\r\nimport Home from \"./pages/Home/Home\";\r\n\r\nfunction App() {\r\n  return (\r\n      <Switch>\r\n          <Route path={['/workspace']}>\r\n              {\r\n                  Authenticate(PageLayout)\r\n              }\r\n          </Route>\r\n          <Route path={['/register', '/login', '/']}>\r\n              <AuthContainer>\r\n                  <Switch>\r\n                      <Route path='/register' exact component={ConnectedRegister}/>\r\n                      <Route path='/login' exact component={ConnectedLogin}/>\r\n                      <Route exact path={`${process.env.PUBLIC_URL}/`} component={Home}/>\r\n                      <Route component={PageNotFound} />\r\n                  </Switch>\r\n              </AuthContainer>\r\n          </Route>\r\n      </Switch>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport CanvasContainer from \"../components/CanvasContainer/CanvasContainer\";\r\nimport { connect } from 'react-redux';\r\n\r\nexport function Authenticate(Component) {\r\n    const AuthenticatedComponent = (props) => {\r\n        if (!props.token){\r\n            return <Redirect to='/login'/> ;\r\n        }\r\n        return (\r\n            <Component>\r\n                <Switch>\r\n                    <Route path='/workspace' component={CanvasContainer}/>\r\n                </Switch>\r\n            </Component>\r\n        );\r\n    };\r\n\r\n    const mapStateToProps = state => {\r\n        return {\r\n            token: state.login.token\r\n        };\r\n    };\r\n    return withRouter(connect(mapStateToProps)(AuthenticatedComponent));\r\n}\r\n","import * as actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n    currentElement: {},\r\n    panningPosition: { x: 0, y: 0 }\r\n};\r\n\r\nconst initialCanvasesState = {\r\n    loading: false,\r\n    loaded: false,\r\n    error: '',\r\n    canvases: []\r\n};\r\n\r\nconst canvas = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.UPDATE_CURRENT_OBJECT:\r\n            return {\r\n                ...state,\r\n                currentElement: action.payload\r\n            };\r\n        case actionTypes.UPDATE_OBJECT:\r\n            return {\r\n                ...state,\r\n                currentElement: action.payload\r\n            };\r\n        case actionTypes.UPDATE_GROUP_OBJECT:\r\n            return {\r\n                ...state,\r\n                currentElement: action.payload,\r\n            };\r\n        case actionTypes.DELETE_OBJECT:\r\n            return {\r\n                ...state,\r\n                currentElement: action.payload\r\n            };\r\n        case actionTypes.UPDATE_PANNING_POSITION:\r\n            return {\r\n                ...state,\r\n                panningPosition: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const canvases = (state = initialCanvasesState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.LOAD_CANVASES: {\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                loaded: false,\r\n            };\r\n        }\r\n        case actionTypes.LOAD_CANVASES_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                loaded: true,\r\n                canvases: action.payload\r\n            };\r\n        }\r\n        case actionTypes.LOAD_CANVASES_FAIL: {\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                loaded: false,\r\n                error: action.payload\r\n            };\r\n        }\r\n        case actionTypes.POST_CANVAS_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                canvases: [...state.canvases, action.payload]\r\n            };\r\n        }\r\n        case actionTypes.UPDATE_CANVAS_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                canvases: state.canvases.map(c => c._id === action.payload._id ? action.payload : c)\r\n            };\r\n        }\r\n        case actionTypes.DELETE_CANVAS_WITH_ID_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                canvases: state.canvases.filter(c => c._id !== action.payload)\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\nexport default canvas;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\nimport {BrowserRouter as Router} from \"react-router-dom\";\r\nimport {combineReducers} from \"redux\";\r\nimport {applyMiddleware} from \"redux\";\r\nimport {register} from \"./reducers/UserReducer\";\r\nimport {login} from \"./reducers/UserReducer\";\r\nimport * as thunk from 'redux-thunk';\r\nimport './index.css';\r\nimport '././assets/styles/global.scss';\r\nimport App from './App';\r\nimport canvas from './reducers/canvasReducer';\r\nimport {canvases} from \"./reducers/canvasReducer\";\r\nimport 'react-notifications/lib/notifications.css';\r\nimport {NotificationContainer} from \"react-notifications\";\r\nimport { setupInterceptors } from \"./utils/axios\";\r\nimport { handleTokenUpdate } from \"./actions/UserActions\";\r\nimport { returnToken } from \"./utils/helpers\";\r\n\r\nexport const reducers = combineReducers({\r\n    canvas,\r\n    register,\r\n    login,\r\n    canvases\r\n});\r\n\r\nexport const middleware = applyMiddleware(thunk.default);\r\n\r\nconst store = createStore(reducers, middleware);\r\nstore.dispatch(handleTokenUpdate(returnToken()));\r\nsetupInterceptors(store);\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <Router>\r\n            <App />\r\n        </Router>\r\n        <NotificationContainer/>\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","import { getStorage, removeStorage } from \"./storage\";\r\n\r\nexport function returnToken() {\r\n    return getStorage('localStorage', 'token') || getStorage('sessionStorage', 'token');\r\n}\r\n\r\nexport function removeToken() {\r\n    removeStorage('localStorage', 'token');\r\n    removeStorage('sessionStorage', 'token');\r\n}\r\n\r\nexport const fontFamily = ['Times New Roman', 'Caesar Dressing', 'Coming Soon', 'Montserrat', 'Open Sans'];","import { warn } from './loger';\r\nlet memoryStorage = {};\r\n\r\nexport const setStorage = (storage, key, value) => {\r\n    try {\r\n        memoryStorage[key] = value;\r\n        window[storage].setItem(key, value);\r\n    } catch (e) {\r\n        warn(`Error on setting storage by ${key} key!`);\r\n    }\r\n};\r\n\r\nexport const getStorage = (storage, key) => {\r\n    try {\r\n        return window[storage].getItem(key);\r\n    } catch (e) {\r\n        warn(`Error on getting storage by name ${key} (${e})`);\r\n        return memoryStorage[key] || null;\r\n    }\r\n};\r\n\r\nexport const removeStorage = (storage, name) => {\r\n    try {\r\n        delete memoryStorage[name];\r\n        window[storage].removeItem(name);\r\n    } catch (error) {\r\n        warn(`Error on removing storage by ${name} key!`);\r\n    }\r\n};\r\n\r\nexport const clearStorage = (storage) => {\r\n    try {\r\n        memoryStorage = {};\r\n        window[storage].clear();\r\n    } catch (e) {\r\n        warn(`Error on clearing storage!`);\r\n    }\r\n};\r\n","/* eslint-disable no-console */\r\nexport const log = text => console.log(text);\r\n\r\nexport const info = text => console.info(text);\r\n\r\nexport const warn = text => console.warn(text);\r\n\r\nexport const error = text => console.error(text);\r\n"],"sourceRoot":""}